{"version":3,"names":["_TooltipManager","require","mockElement","getAttribute","jest","fn","setAttribute","removeAttribute","getBoundingClientRect","left","top","width","height","right","bottom","matches","closest","parentNode","removeChild","mockContainer","id","className","innerHTML","style","cssText","opacity","appendChild","remove","Object","defineProperty","document","value","window","body","describe","beforeEach","clearAllMocks","test","expect","tooltipManager","activeTooltip","toBeNull","isInitialized","toBe","config","toBeDefined","spyOn","mockImplementation","initialize","element","text","addTooltip","toHaveBeenCalledWith","destroy"],"sources":["tooltip.test.js"],"sourcesContent":["import { tooltipManager } from '../../js/utils/TooltipManager.js';\n\n// DOM環境のモック\nconst mockElement = {\n  getAttribute: jest.fn(),\n  setAttribute: jest.fn(),\n  removeAttribute: jest.fn(),\n  getBoundingClientRect: jest.fn(() => ({\n    left: 0,\n    top: 0,\n    width: 100,\n    height: 50,\n    right: 100,\n    bottom: 50,\n  })),\n  matches: jest.fn(() => true),\n  closest: jest.fn(),\n  parentNode: {\n    removeChild: jest.fn(),\n  },\n};\n\nconst mockContainer = {\n  id: '',\n  className: '',\n  innerHTML: '',\n  style: {\n    cssText: '',\n    opacity: '0',\n  },\n  appendChild: jest.fn(),\n  remove: jest.fn(),\n  getBoundingClientRect: jest.fn(() => ({\n    width: 200,\n    height: 100,\n  })),\n};\n\nObject.defineProperty(document, 'getElementById', {\n  value: jest.fn(() => mockContainer),\n});\n\nObject.defineProperty(document, 'createElement', {\n  value: jest.fn(() => mockContainer),\n});\n\nObject.defineProperty(document, 'addEventListener', {\n  value: jest.fn(),\n});\n\nObject.defineProperty(window, 'addEventListener', {\n  value: jest.fn(),\n});\n\nObject.defineProperty(document.body, 'appendChild', {\n  value: jest.fn(),\n});\n\ndescribe('TooltipManager', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  describe('constructor', () => {\n    test('should initialize with default values', () => {\n      expect(tooltipManager.activeTooltip).toBeNull();\n      expect(tooltipManager.isInitialized).toBe(false);\n      expect(tooltipManager.config).toBeDefined();\n    });\n  });\n\n  describe('initialize', () => {\n    test('should initialize tooltip manager', () => {\n      jest\n        .spyOn(tooltipManager, 'createContainer')\n        .mockImplementation(() => {});\n      jest\n        .spyOn(tooltipManager, 'setupEventListeners')\n        .mockImplementation(() => {});\n\n      tooltipManager.initialize();\n      expect(tooltipManager.isInitialized).toBe(true);\n    });\n\n    test('should not initialize if already initialized', () => {\n      tooltipManager.isInitialized = true;\n      tooltipManager.initialize();\n      expect(tooltipManager.isInitialized).toBe(true);\n    });\n  });\n\n  describe('addTooltip', () => {\n    test('should add tooltip to element', () => {\n      const element = mockElement;\n      const text = 'Test tooltip';\n\n      tooltipManager.addTooltip(element, text);\n\n      expect(element.setAttribute).toHaveBeenCalledWith('data-tooltip', text);\n    });\n\n    test('should not add tooltip if element or text is missing', () => {\n      tooltipManager.addTooltip(null, 'Test');\n      tooltipManager.addTooltip(mockElement, null);\n\n      // エラーが発生しないことを確認\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('destroy', () => {\n    test('should destroy tooltip manager', () => {\n      tooltipManager.isInitialized = true;\n\n      tooltipManager.destroy();\n\n      expect(tooltipManager.isInitialized).toBe(false);\n    });\n  });\n});\n"],"mappings":"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","ignoreList":[]}