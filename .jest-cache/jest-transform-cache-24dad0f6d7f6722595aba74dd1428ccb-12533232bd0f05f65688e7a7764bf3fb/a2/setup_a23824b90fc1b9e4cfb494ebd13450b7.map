{"version":3,"names":["require","_jsdomNavigationFix","_defineProperties","e","r","t","length","o","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","key","_createClass","prototype","i","_toPrimitive","_typeof","Symbol","toPrimitive","call","TypeError","String","Number","_classCallCheck","a","n","global","window","addEventListener","jest","fn","removeEventListener","dispatchEvent","performance","now","Date","CustomEvent","type","options","arguments","undefined","detail","originalConsoleError","console","error","_len","args","Array","_key","includes","apply","originalConsoleLog","log","_len2","_key2","setupJSDOMNavigationFix","document","getElementById","querySelector","querySelectorAll","createElement","click","classList","add","remove","contains","toggle","style","setAttribute","getAttribute","appendChild","removeChild","innerHTML","textContent","createTextNode","alert","confirm","prompt","showNotification","hideNotification","showAuthModal","hideAuthModal","localStorage","getItem","setItem","removeItem","clear","sessionStorage","fetch","warn","info","URL","createObjectURL","revokeObjectURL","Blob","parts"],"sources":["setup.js"],"sourcesContent":["// tests/setup.js - Jest セットアップファイル\n\nimport '@testing-library/jest-dom';\nimport { setupJSDOMNavigationFix } from './utils/jsdom-navigation-fix.js';\n\n// 基本的なDOM環境のモック\nglobal.window = {\n  addEventListener: jest.fn(),\n  removeEventListener: jest.fn(),\n  dispatchEvent: jest.fn(),\n  performance: {\n    now: jest.fn(() => Date.now()),\n  },\n  CustomEvent: class CustomEvent {\n    constructor(type, options = {}) {\n      this.type = type;\n      this.detail = options.detail;\n    }\n  },\n};\n\n// JSDOMのナビゲーション制限を回避するための設定\n// テスト環境でのナビゲーションエラーを抑制\nconst originalConsoleError = console.error;\nconsole.error = (...args) => {\n  // JSDOMのナビゲーションエラーを抑制\n  if (\n    args[0] &&\n    args[0].includes &&\n    args[0].includes('Not implemented: navigation')\n  ) {\n    return;\n  }\n  originalConsoleError.apply(console, args);\n};\n\n// コンソールログも抑制（テスト環境での不要なログを削減）\nconst originalConsoleLog = console.log;\nconsole.log = (...args) => {\n  // テスト環境でのナビゲーションログを抑制\n  if (\n    args[0] &&\n    typeof args[0] === 'string' &&\n    args[0].includes('Navigation skipped in test environment')\n  ) {\n    return;\n  }\n  originalConsoleLog.apply(console, args);\n};\n\n// JSDOMのナビゲーション制限を回避\n// 専用ユーティリティを使用してセットアップ\nsetupJSDOMNavigationFix();\n\nglobal.document = {\n  getElementById: jest.fn(),\n  querySelector: jest.fn(),\n  querySelectorAll: jest.fn(() => []),\n  createElement: jest.fn(() => ({\n    addEventListener: jest.fn(),\n    removeEventListener: jest.fn(),\n    click: jest.fn(),\n    classList: {\n      add: jest.fn(),\n      remove: jest.fn(),\n      contains: jest.fn(),\n      toggle: jest.fn(),\n    },\n    style: {},\n    setAttribute: jest.fn(),\n    getAttribute: jest.fn(),\n    appendChild: jest.fn(),\n    removeChild: jest.fn(),\n    innerHTML: '',\n    textContent: '',\n  })),\n  createTextNode: jest.fn(),\n  addEventListener: jest.fn(),\n  removeEventListener: jest.fn(),\n};\n\n// グローバル変数の設定\nglobal.alert = jest.fn();\nglobal.confirm = jest.fn();\nglobal.prompt = jest.fn();\n\n// グローバル関数の設定\nglobal.showNotification = jest.fn();\nglobal.hideNotification = jest.fn();\nglobal.showAuthModal = jest.fn();\nglobal.hideAuthModal = jest.fn();\n\n// localStorage のモック\nglobal.localStorage = {\n  getItem: jest.fn(),\n  setItem: jest.fn(),\n  removeItem: jest.fn(),\n  clear: jest.fn(),\n};\n\n// sessionStorage のモック\nglobal.sessionStorage = {\n  getItem: jest.fn(),\n  setItem: jest.fn(),\n  removeItem: jest.fn(),\n  clear: jest.fn(),\n};\n\n// fetch のモック\nglobal.fetch = jest.fn();\n\n// コンソールのモック\nglobal.console = {\n  log: jest.fn(),\n  error: jest.fn(),\n  warn: jest.fn(),\n  info: jest.fn(),\n};\n\n// URL のモック（ReportService用）\nglobal.URL = {\n  createObjectURL: jest.fn(() => 'mock-url'),\n  revokeObjectURL: jest.fn(),\n};\n\n// Blob のモック\nglobal.Blob = class Blob {\n  constructor(parts, options) {\n    this.parts = parts;\n    this.type = options?.type || '';\n  }\n};\n"],"mappings":"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","ignoreList":[]}