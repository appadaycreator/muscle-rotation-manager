{"version":3,"names":["_router","require","_typeof","o","Symbol","iterator","constructor","prototype","describe","testRouter","beforeEach","Router","afterEach","jest","clearAllMocks","it","expect","routes","toBeDefined","currentRoute","toBeNull","pageCache","path","getCurrentPath","toBe","mockPushState","fn","Object","defineProperty","window","history","value","writable","navigateTo","toHaveBeenCalled","mockBack","goBack","mockForward","goForward","set","size","clearCache"],"sources":["Router.test.js"],"sourcesContent":["// tests/unit/Router.test.js - Routerのテスト\n\nimport { Router, router } from '../../js/utils/router.js';\n\ndescribe('Router', () => {\n  let testRouter;\n\n  beforeEach(() => {\n    testRouter = new Router();\n  });\n\n  afterEach(() => {\n    jest.clearAllMocks();\n  });\n\n  describe('constructor', () => {\n    it('should initialize with default values', () => {\n      expect(testRouter.routes).toBeDefined();\n      expect(testRouter.currentRoute).toBeNull();\n      expect(testRouter.pageCache).toBeDefined();\n    });\n  });\n\n  describe('getCurrentPath', () => {\n    it('should return current path', () => {\n      // getCurrentPathはwindow.location.pathnameを返すだけなので、\n      // 現在のパスをテストする\n      const path = testRouter.getCurrentPath();\n      expect(typeof path).toBe('string');\n      expect(path).toBeDefined();\n    });\n  });\n\n  describe('navigateTo', () => {\n    it('should navigate to path', () => {\n      const mockPushState = jest.fn();\n      Object.defineProperty(window.history, 'pushState', {\n        value: mockPushState,\n        writable: true,\n      });\n\n      testRouter.navigateTo('/test');\n      expect(mockPushState).toHaveBeenCalled();\n    });\n  });\n\n  describe('goBack', () => {\n    it('should go back in history', () => {\n      const mockBack = jest.fn();\n      Object.defineProperty(window.history, 'back', {\n        value: mockBack,\n        writable: true,\n      });\n\n      testRouter.goBack();\n      expect(mockBack).toHaveBeenCalled();\n    });\n  });\n\n  describe('goForward', () => {\n    it('should go forward in history', () => {\n      const mockForward = jest.fn();\n      Object.defineProperty(window.history, 'forward', {\n        value: mockForward,\n        writable: true,\n      });\n\n      testRouter.goForward();\n      expect(mockForward).toHaveBeenCalled();\n    });\n  });\n\n  describe('clearCache', () => {\n    it('should clear page cache', () => {\n      testRouter.pageCache.set('test', 'content');\n      expect(testRouter.pageCache.size).toBe(1);\n\n      testRouter.clearCache();\n      expect(testRouter.pageCache.size).toBe(0);\n    });\n  });\n});\n"],"mappings":"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","ignoreList":[]}