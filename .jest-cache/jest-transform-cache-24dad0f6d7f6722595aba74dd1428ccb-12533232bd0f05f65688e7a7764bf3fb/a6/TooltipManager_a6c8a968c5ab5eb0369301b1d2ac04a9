cff81ed712c23d9dfa87ac644c13f3bd
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.tooltipManager = exports.TooltipManager = void 0;
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }
function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
function _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }
function _arrayWithHoles(r) { if (Array.isArray(r)) return r; }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
/**
 * 高度なツールチップ管理システム
 * パフォーマンス最適化、アクセシビリティ対応、完全なテストカバレッジ
 */
var TooltipManager = exports.TooltipManager = /*#__PURE__*/function () {
  function TooltipManager() {
    _classCallCheck(this, TooltipManager);
    this.activeTooltip = null;
    this.hoverTimeout = null;
    this.isInitialized = false;
    this.config = {
      delay: 300,
      hideDelay: 100,
      maxWidth: 400,
      minWidth: 200,
      zIndex: 10000,
      animation: 'fadeIn',
      theme: 'light',
      position: 'top',
      offset: 8,
      arrow: true,
      interactive: false,
      hideOnScroll: true,
      hideOnResize: true,
      hideOnEscape: true,
      accessibility: true
    };
    this.themes = new Map();
    this.animations = new Map();
    this.observers = new Map();
    this.setupThemes();
    this.setupAnimations();
  }

  /**
  * テーマ設定
  */
  return _createClass(TooltipManager, [{
    key: "setupThemes",
    value: function setupThemes() {
      this.themes.set('light', {
        backgroundColor: '#ffffff',
        color: '#1f2937',
        border: '1px solid #e5e7eb',
        boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)',
        borderRadius: '8px',
        fontSize: '15px',
        lineHeight: '1.6',
        padding: '12px 16px',
        fontFamily: "'Noto Sans JP', 'Inter', sans-serif",
        fontWeight: '400',
        letterSpacing: '0.025em'
      });
      this.themes.set('dark', {
        backgroundColor: '#1f2937',
        color: '#f9fafb',
        border: '1px solid #374151',
        boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.1)',
        borderRadius: '8px',
        fontSize: '15px',
        lineHeight: '1.6',
        padding: '12px 16px',
        fontFamily: "'Noto Sans JP', 'Inter', sans-serif",
        fontWeight: '400',
        letterSpacing: '0.025em'
      });
    }

    /**
    * アニメーション設定
    */
  }, {
    key: "setupAnimations",
    value: function setupAnimations() {
      this.animations.set('fadeIn', {
        show: {
          opacity: '0',
          transform: 'translateY(-5px)',
          transition: 'opacity 0.2s ease, transform 0.2s ease'
        },
        visible: {
          opacity: '1',
          transform: 'translateY(0)',
          transition: 'opacity 0.2s ease, transform 0.2s ease'
        },
        hide: {
          opacity: '0',
          transform: 'translateY(-5px)',
          transition: 'opacity 0.15s ease, transform 0.15s ease'
        }
      });
      this.animations.set('slide', {
        show: {
          opacity: '0',
          transform: 'translateY(10px)',
          transition: 'opacity 0.2s ease, transform 0.2s ease'
        },
        visible: {
          opacity: '1',
          transform: 'translateY(0)',
          transition: 'opacity 0.2s ease, transform 0.2s ease'
        },
        hide: {
          opacity: '0',
          transform: 'translateY(10px)',
          transition: 'opacity 0.15s ease, transform 0.15s ease'
        }
      });
      this.animations.set('scale', {
        show: {
          opacity: '0',
          transform: 'scale(0.95)',
          transition: 'opacity 0.2s ease, transform 0.2s ease'
        },
        visible: {
          opacity: '1',
          transform: 'scale(1)',
          transition: 'opacity 0.2s ease, transform 0.2s ease'
        },
        hide: {
          opacity: '0',
          transform: 'scale(0.95)',
          transition: 'opacity 0.15s ease, transform 0.15s ease'
        }
      });
    }

    /**
    * 初期化
    */
  }, {
    key: "initialize",
    value: function initialize() {
      if (this.isInitialized) {
        return;
      }
      try {
        this.createContainer();
        this.setupEventListeners();
        this.isInitialized = true;
        console.log('✅ TooltipManager initialized');
      } catch (error) {
        console.error('❌ TooltipManager initialization failed:', error);
        throw error;
      }
    }

    /**
    * コンテナ作成
    */
  }, {
    key: "createContainer",
    value: function createContainer() {
      var existingContainer = document.getElementById('tooltip-container');
      if (existingContainer) {
        existingContainer.remove();
      }
      var container = document.createElement('div');
      container.id = 'tooltip-container';
      container.className = 'tooltip-container';
      container.style.cssText = "\n            position: fixed;\n            z-index: ".concat(this.config.zIndex, ";\n            pointer-events: none;\n            opacity: 0;\n            transition: opacity 0.2s ease;\n        ");
      document.body.appendChild(container);
    }

    /**
    * イベントリスナー設定
    */
  }, {
    key: "setupEventListeners",
    value: function setupEventListeners() {
      // マウスオーバー
      document.addEventListener('mouseover', this.handleMouseOver.bind(this), {
        passive: true
      });

      // マウスアウト
      document.addEventListener('mouseout', this.handleMouseOut.bind(this), {
        passive: true
      });

      // マウス移動
      document.addEventListener('mousemove', this.handleMouseMove.bind(this), {
        passive: true
      });

      // スクロール
      if (this.config.hideOnScroll) {
        document.addEventListener('scroll', this.handleScroll.bind(this), {
          passive: true
        });
      }

      // リサイズ
      if (this.config.hideOnResize) {
        window.addEventListener('resize', this.handleResize.bind(this), {
          passive: true
        });
      }

      // エスケープキー
      if (this.config.hideOnEscape) {
        document.addEventListener('keydown', this.handleKeyDown.bind(this));
      }
    }

    /**
    * マウスオーバー処理
    */
  }, {
    key: "handleMouseOver",
    value: function handleMouseOver(event) {
      var _this = this;
      var element = this.findClosestElement(event.target, '[data-tooltip]');
      if (!element) {
        return;
      }

      // 既存のタイムアウトをクリア
      if (this.hoverTimeout) {
        clearTimeout(this.hoverTimeout);
        this.hoverTimeout = null;
      }

      // 遅延後にツールチップを表示
      this.hoverTimeout = setTimeout(function () {
        if (_this.isElementHovered(element)) {
          _this.showTooltip(element, event);
        }
      }, this.config.delay);
    }

    /**
    * マウスアウト処理
    */
  }, {
    key: "handleMouseOut",
    value: function handleMouseOut(event) {
      var _this2 = this;
      var element = this.findClosestElement(event.target, '[data-tooltip]');
      if (!element) {
        return;
      }

      // タイムアウトをクリア
      if (this.hoverTimeout) {
        clearTimeout(this.hoverTimeout);
        this.hoverTimeout = null;
      }

      // 遅延後にツールチップを非表示
      setTimeout(function () {
        if (!_this2.isElementHovered(element)) {
          _this2.hideTooltip();
        }
      }, this.config.hideDelay);
    }

    /**
    * マウス移動処理
    */
  }, {
    key: "handleMouseMove",
    value: function handleMouseMove(event) {
      if (this.activeTooltip) {
        this.updatePosition(event);
      }
    }

    /**
    * スクロール処理
    */
  }, {
    key: "handleScroll",
    value: function handleScroll() {
      this.hideTooltip();
    }

    /**
    * リサイズ処理
    */
  }, {
    key: "handleResize",
    value: function handleResize() {
      this.hideTooltip();
    }

    /**
    * キーダウン処理
    */
  }, {
    key: "handleKeyDown",
    value: function handleKeyDown(event) {
      if (event.key === 'Escape') {
        this.hideTooltip();
      }
    }

    /**
    * 要素がホバーされているかチェック
    */
  }, {
    key: "isElementHovered",
    value: function isElementHovered(element) {
      return element.matches(':hover');
    }

    /**
    * クロスブラウザ対応のclosestメソッド
    */
  }, {
    key: "findClosestElement",
    value: function findClosestElement(element, selector) {
      if (element.closest) {
        return element.closest(selector);
      }

      // フォールバック実装
      while (element && element.nodeType === Node.ELEMENT_NODE) {
        if (element.matches && element.matches(selector)) {
          return element;
        }
        element = element.parentElement;
      }
      return null;
    }

    /**
    * ツールチップ表示
    */
  }, {
    key: "showTooltip",
    value: function showTooltip(element, event) {
      // 既存のツールチップを非表示
      this.hideTooltip();
      var tooltipText = element.getAttribute('data-tooltip');
      if (!tooltipText) {
        return;
      }
      var config = this.getElementConfig(element);
      try {
        this.createTooltip(tooltipText, config, event);
        this.activeTooltip = {
          element: element,
          config: config
        };
      } catch (error) {
        console.error('❌ Failed to show tooltip:', error);
      }
    }

    /**
    * ツールチップ非表示
    */
  }, {
    key: "hideTooltip",
    value: function hideTooltip() {
      var _this3 = this;
      if (!this.activeTooltip) {
        return;
      }
      var container = document.getElementById('tooltip-container');
      if (!container) {
        this.activeTooltip = null;
        return;
      }
      var tooltip = container.querySelector('.tooltip');
      if (!tooltip) {
        this.activeTooltip = null;
        return;
      }
      var config = this.activeTooltip.config;
      var animation = this.animations.get(config.animation);
      if (animation && animation.hide) {
        Object.assign(tooltip.style, animation.hide);
        setTimeout(function () {
          _this3.removeTooltip();
        }, 150);
      } else {
        this.removeTooltip();
      }
    }

    /**
    * ツールチップ削除
    */
  }, {
    key: "removeTooltip",
    value: function removeTooltip() {
      var container = document.getElementById('tooltip-container');
      if (container) {
        container.innerHTML = '';
        container.style.opacity = '0';
      }
      this.activeTooltip = null;
    }

    /**
    * ツールチップ作成
    */
  }, {
    key: "createTooltip",
    value: function createTooltip(text, config, event) {
      var container = document.getElementById('tooltip-container');
      if (!container) {
        throw new Error('Tooltip container not found');
      }
      var tooltip = document.createElement('div');
      tooltip.className = 'tooltip';
      tooltip.textContent = text;
      tooltip.setAttribute('role', 'tooltip');
      tooltip.setAttribute('aria-hidden', 'false');

      // テーマ適用
      var theme = this.themes.get(config.theme) || this.themes.get('light');
      Object.assign(tooltip.style, _objectSpread({
        position: 'absolute',
        maxWidth: "".concat(config.maxWidth, "px"),
        minWidth: "".concat(config.minWidth, "px"),
        width: 'auto',
        zIndex: this.config.zIndex + 1,
        pointerEvents: 'none',
        whiteSpace: 'pre-wrap',
        wordWrap: 'break-word'
      }, theme));

      // アニメーション適用
      var animation = this.animations.get(config.animation);
      if (animation && animation.show) {
        Object.assign(tooltip.style, animation.show);
      }

      // 矢印追加
      if (config.arrow) {
        this.addArrow(tooltip, config);
      }
      container.appendChild(tooltip);
      container.style.opacity = '1';

      // 位置計算
      this.calculatePosition(tooltip, event, config);

      // アニメーション表示
      requestAnimationFrame(function () {
        if (animation && animation.visible) {
          Object.assign(tooltip.style, animation.visible);
        } else {
          tooltip.style.opacity = '1';
          tooltip.style.transform = 'translateY(0)';
        }
      });
    }

    /**
    * 矢印追加
    */
  }, {
    key: "addArrow",
    value: function addArrow(tooltip, config) {
      var arrow = document.createElement('div');
      arrow.className = 'tooltip-arrow';
      arrow.style.cssText = "\n            position: absolute;\n            width: 0;\n            height: 0;\n            border: 5px solid transparent;\n        ";
      var theme = this.themes.get(config.theme) || this.themes.get('light');
      switch (config.position) {
        case 'top':
          arrow.style.bottom = '-10px';
          arrow.style.left = '50%';
          arrow.style.transform = 'translateX(-50%)';
          arrow.style.borderTopColor = theme.backgroundColor;
          break;
        case 'bottom':
          arrow.style.top = '-10px';
          arrow.style.left = '50%';
          arrow.style.transform = 'translateX(-50%)';
          arrow.style.borderBottomColor = theme.backgroundColor;
          break;
        case 'left':
          arrow.style.right = '-10px';
          arrow.style.top = '50%';
          arrow.style.transform = 'translateY(-50%)';
          arrow.style.borderLeftColor = theme.backgroundColor;
          break;
        case 'right':
          arrow.style.left = '-10px';
          arrow.style.top = '50%';
          arrow.style.transform = 'translateY(-50%)';
          arrow.style.borderRightColor = theme.backgroundColor;
          break;
      }
      tooltip.appendChild(arrow);
    }

    /**
    * 位置計算
    */
  }, {
    key: "calculatePosition",
    value: function calculatePosition(tooltip, event, config) {
      var rect = event.target.getBoundingClientRect();
      var tooltipRect = tooltip.getBoundingClientRect();
      var viewport = {
        width: window.innerWidth,
        height: window.innerHeight
      };
      var x, y;
      switch (config.position) {
        case 'top':
          x = rect.left + rect.width / 2 - tooltipRect.width / 2;
          y = rect.top - tooltipRect.height - config.offset;
          break;
        case 'bottom':
          x = rect.left + rect.width / 2 - tooltipRect.width / 2;
          y = rect.bottom + config.offset;
          break;
        case 'left':
          x = rect.left - tooltipRect.width - config.offset;
          y = rect.top + rect.height / 2 - tooltipRect.height / 2;
          break;
        case 'right':
          x = rect.right + config.offset;
          y = rect.top + rect.height / 2 - tooltipRect.height / 2;
          break;
        default:
          x = event.clientX + 10;
          y = event.clientY - tooltipRect.height - 10;
      }

      // 初期位置を設定（getBoundingClientRectが正しく動作するように）
      tooltip.style.left = "".concat(x, "px");
      tooltip.style.top = "".concat(y, "px");

      // 実際のサイズを取得して再計算
      var actualRect = tooltip.getBoundingClientRect();
      switch (config.position) {
        case 'top':
          x = rect.left + rect.width / 2 - actualRect.width / 2;
          y = rect.top - actualRect.height - config.offset;
          break;
        case 'bottom':
          x = rect.left + rect.width / 2 - actualRect.width / 2;
          y = rect.bottom + config.offset;
          break;
        case 'left':
          x = rect.left - actualRect.width - config.offset;
          y = rect.top + rect.height / 2 - actualRect.height / 2;
          break;
        case 'right':
          x = rect.right + config.offset;
          y = rect.top + rect.height / 2 - actualRect.height / 2;
          break;
      }

      // ビューポート内に収める
      x = Math.max(8, Math.min(x, viewport.width - tooltipRect.width - 8));
      y = Math.max(8, Math.min(y, viewport.height - tooltipRect.height - 8));
      tooltip.style.left = "".concat(x, "px");
      tooltip.style.top = "".concat(y, "px");
    }

    /**
    * 位置更新
    */
  }, {
    key: "updatePosition",
    value: function updatePosition(event) {
      if (!this.activeTooltip) {
        return;
      }
      var tooltip = document.querySelector('.tooltip');
      if (!tooltip) {
        return;
      }
      var config = this.activeTooltip.config;
      this.calculatePosition(tooltip, event, config);
    }

    /**
    * 要素設定取得
    */
  }, {
    key: "getElementConfig",
    value: function getElementConfig(element) {
      var config = _objectSpread({}, this.config);
      var position = element.getAttribute('data-tooltip-position');
      var delay = element.getAttribute('data-tooltip-delay');
      var maxWidth = element.getAttribute('data-tooltip-max-width');
      var minWidth = element.getAttribute('data-tooltip-min-width');
      var theme = element.getAttribute('data-tooltip-theme');
      var animation = element.getAttribute('data-tooltip-animation');
      if (position) {
        config.position = position;
      }
      if (delay) {
        config.delay = parseInt(delay);
      }
      if (maxWidth) {
        config.maxWidth = parseInt(maxWidth);
      }
      if (minWidth) {
        config.minWidth = parseInt(minWidth);
      }
      if (theme) {
        config.theme = theme;
      }
      if (animation) {
        config.animation = animation;
      }
      return config;
    }

    /**
    * ツールチップ追加
    */
  }, {
    key: "addTooltip",
    value: function addTooltip(element, text) {
      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      if (!element || !text) {
        console.warn('⚠️ Invalid element or text for tooltip');
        return;
      }

      // セレクター文字列の場合は要素を取得
      var targetElement = element;
      if (typeof element === 'string') {
        targetElement = document.querySelector(element);
        if (!targetElement) {
          console.warn("\u26A0\uFE0F Element not found: ".concat(element));
          return;
        }
      }
      targetElement.setAttribute('data-tooltip', text);

      // オプションをデータ属性に設定
      Object.entries(options).forEach(function (_ref) {
        var _ref2 = _slicedToArray(_ref, 2),
          key = _ref2[0],
          value = _ref2[1];
        if (value !== undefined) {
          targetElement.setAttribute("data-tooltip-".concat(key), value);
        }
      });
    }

    /**
    * 動的ツールチップ追加
    */
  }, {
    key: "addDynamicTooltip",
    value: function addDynamicTooltip(selector, text) {
      var _this4 = this;
      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      var elements = document.querySelectorAll(selector);
      elements.forEach(function (element) {
        _this4.addTooltip(element, text, options);
      });

      // 新しい要素の監視
      this.observeNewElements(selector, text, options);
    }

    /**
    * 新しい要素の監視
    */
  }, {
    key: "observeNewElements",
    value: function observeNewElements(selector, text, options) {
      var _this5 = this;
      if (this.observers.has(selector)) {
        return;
      }
      var observer = new MutationObserver(function (mutations) {
        mutations.forEach(function (mutation) {
          mutation.addedNodes.forEach(function (node) {
            if (node.nodeType === Node.ELEMENT_NODE) {
              if (node.matches && node.matches(selector)) {
                _this5.addTooltip(node, text, options);
              }
              var childElements = node.querySelectorAll && node.querySelectorAll(selector);
              if (childElements) {
                childElements.forEach(function (element) {
                  _this5.addTooltip(element, text, options);
                });
              }
            }
          });
        });
      });
      observer.observe(document.body, {
        childList: true,
        subtree: true
      });
      this.observers.set(selector, observer);
    }

    /**
    * 破棄
    */
  }, {
    key: "destroy",
    value: function destroy() {
      this.hideTooltip();
      if (this.hoverTimeout) {
        clearTimeout(this.hoverTimeout);
        this.hoverTimeout = null;
      }
      this.observers.forEach(function (observer) {
        return observer.disconnect();
      });
      this.observers.clear();
      var container = document.getElementById('tooltip-container');
      if (container) {
        container.remove();
      }
      this.activeTooltip = null;
      this.isInitialized = false;
    }
  }]);
}(); // シングルトンインスタンス
var tooltipManager = exports.tooltipManager = new TooltipManager();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJUb29sdGlwTWFuYWdlciIsImV4cG9ydHMiLCJfY2xhc3NDYWxsQ2hlY2siLCJhY3RpdmVUb29sdGlwIiwiaG92ZXJUaW1lb3V0IiwiaXNJbml0aWFsaXplZCIsImNvbmZpZyIsImRlbGF5IiwiaGlkZURlbGF5IiwibWF4V2lkdGgiLCJtaW5XaWR0aCIsInpJbmRleCIsImFuaW1hdGlvbiIsInRoZW1lIiwicG9zaXRpb24iLCJvZmZzZXQiLCJhcnJvdyIsImludGVyYWN0aXZlIiwiaGlkZU9uU2Nyb2xsIiwiaGlkZU9uUmVzaXplIiwiaGlkZU9uRXNjYXBlIiwiYWNjZXNzaWJpbGl0eSIsInRoZW1lcyIsIk1hcCIsImFuaW1hdGlvbnMiLCJvYnNlcnZlcnMiLCJzZXR1cFRoZW1lcyIsInNldHVwQW5pbWF0aW9ucyIsIl9jcmVhdGVDbGFzcyIsImtleSIsInZhbHVlIiwic2V0IiwiYmFja2dyb3VuZENvbG9yIiwiY29sb3IiLCJib3JkZXIiLCJib3hTaGFkb3ciLCJib3JkZXJSYWRpdXMiLCJmb250U2l6ZSIsImxpbmVIZWlnaHQiLCJwYWRkaW5nIiwiZm9udEZhbWlseSIsImZvbnRXZWlnaHQiLCJsZXR0ZXJTcGFjaW5nIiwic2hvdyIsIm9wYWNpdHkiLCJ0cmFuc2Zvcm0iLCJ0cmFuc2l0aW9uIiwidmlzaWJsZSIsImhpZGUiLCJpbml0aWFsaXplIiwiY3JlYXRlQ29udGFpbmVyIiwic2V0dXBFdmVudExpc3RlbmVycyIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsImV4aXN0aW5nQ29udGFpbmVyIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInJlbW92ZSIsImNvbnRhaW5lciIsImNyZWF0ZUVsZW1lbnQiLCJpZCIsImNsYXNzTmFtZSIsInN0eWxlIiwiY3NzVGV4dCIsImNvbmNhdCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVNb3VzZU92ZXIiLCJiaW5kIiwicGFzc2l2ZSIsImhhbmRsZU1vdXNlT3V0IiwiaGFuZGxlTW91c2VNb3ZlIiwiaGFuZGxlU2Nyb2xsIiwid2luZG93IiwiaGFuZGxlUmVzaXplIiwiaGFuZGxlS2V5RG93biIsImV2ZW50IiwiX3RoaXMiLCJlbGVtZW50IiwiZmluZENsb3Nlc3RFbGVtZW50IiwidGFyZ2V0IiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsImlzRWxlbWVudEhvdmVyZWQiLCJzaG93VG9vbHRpcCIsIl90aGlzMiIsImhpZGVUb29sdGlwIiwidXBkYXRlUG9zaXRpb24iLCJtYXRjaGVzIiwic2VsZWN0b3IiLCJjbG9zZXN0Iiwibm9kZVR5cGUiLCJOb2RlIiwiRUxFTUVOVF9OT0RFIiwicGFyZW50RWxlbWVudCIsInRvb2x0aXBUZXh0IiwiZ2V0QXR0cmlidXRlIiwiZ2V0RWxlbWVudENvbmZpZyIsImNyZWF0ZVRvb2x0aXAiLCJfdGhpczMiLCJ0b29sdGlwIiwicXVlcnlTZWxlY3RvciIsImdldCIsIk9iamVjdCIsImFzc2lnbiIsInJlbW92ZVRvb2x0aXAiLCJpbm5lckhUTUwiLCJ0ZXh0IiwiRXJyb3IiLCJ0ZXh0Q29udGVudCIsInNldEF0dHJpYnV0ZSIsIl9vYmplY3RTcHJlYWQiLCJ3aWR0aCIsInBvaW50ZXJFdmVudHMiLCJ3aGl0ZVNwYWNlIiwid29yZFdyYXAiLCJhZGRBcnJvdyIsImNhbGN1bGF0ZVBvc2l0aW9uIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiYm90dG9tIiwibGVmdCIsImJvcmRlclRvcENvbG9yIiwidG9wIiwiYm9yZGVyQm90dG9tQ29sb3IiLCJyaWdodCIsImJvcmRlckxlZnRDb2xvciIsImJvcmRlclJpZ2h0Q29sb3IiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidG9vbHRpcFJlY3QiLCJ2aWV3cG9ydCIsImlubmVyV2lkdGgiLCJoZWlnaHQiLCJpbm5lckhlaWdodCIsIngiLCJ5IiwiY2xpZW50WCIsImNsaWVudFkiLCJhY3R1YWxSZWN0IiwiTWF0aCIsIm1heCIsIm1pbiIsInBhcnNlSW50IiwiYWRkVG9vbHRpcCIsIm9wdGlvbnMiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJ3YXJuIiwidGFyZ2V0RWxlbWVudCIsImVudHJpZXMiLCJmb3JFYWNoIiwiX3JlZiIsIl9yZWYyIiwiX3NsaWNlZFRvQXJyYXkiLCJhZGREeW5hbWljVG9vbHRpcCIsIl90aGlzNCIsImVsZW1lbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsIm9ic2VydmVOZXdFbGVtZW50cyIsIl90aGlzNSIsImhhcyIsIm9ic2VydmVyIiwiTXV0YXRpb25PYnNlcnZlciIsIm11dGF0aW9ucyIsIm11dGF0aW9uIiwiYWRkZWROb2RlcyIsIm5vZGUiLCJjaGlsZEVsZW1lbnRzIiwib2JzZXJ2ZSIsImNoaWxkTGlzdCIsInN1YnRyZWUiLCJkZXN0cm95IiwiZGlzY29ubmVjdCIsImNsZWFyIiwidG9vbHRpcE1hbmFnZXIiXSwic291cmNlcyI6WyJUb29sdGlwTWFuYWdlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIOmrmOW6puOBquODhOODvOODq+ODgeODg+ODl+euoeeQhuOCt+OCueODhuODoFxuICog44OR44OV44Kp44O844Oe44Oz44K55pyA6YGp5YyW44CB44Ki44Kv44K744K344OT44Oq44OG44Kj5a++5b+c44CB5a6M5YWo44Gq44OG44K544OI44Kr44OQ44Os44OD44K4XG4gKi9cbmV4cG9ydCBjbGFzcyBUb29sdGlwTWFuYWdlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlVG9vbHRpcCA9IG51bGw7XG4gICAgICAgIHRoaXMuaG92ZXJUaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5pc0luaXRpYWxpemVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29uZmlnID0ge1xuICAgICAgICAgICAgZGVsYXk6IDMwMCxcbiAgICAgICAgICAgIGhpZGVEZWxheTogMTAwLFxuICAgICAgICAgICAgbWF4V2lkdGg6IDQwMCxcbiAgICAgICAgICAgIG1pbldpZHRoOiAyMDAsXG4gICAgICAgICAgICB6SW5kZXg6IDEwMDAwLFxuICAgICAgICAgICAgYW5pbWF0aW9uOiAnZmFkZUluJyxcbiAgICAgICAgICAgIHRoZW1lOiAnbGlnaHQnLFxuICAgICAgICAgICAgcG9zaXRpb246ICd0b3AnLFxuICAgICAgICAgICAgb2Zmc2V0OiA4LFxuICAgICAgICAgICAgYXJyb3c6IHRydWUsXG4gICAgICAgICAgICBpbnRlcmFjdGl2ZTogZmFsc2UsXG4gICAgICAgICAgICBoaWRlT25TY3JvbGw6IHRydWUsXG4gICAgICAgICAgICBoaWRlT25SZXNpemU6IHRydWUsXG4gICAgICAgICAgICBoaWRlT25Fc2NhcGU6IHRydWUsXG4gICAgICAgICAgICBhY2Nlc3NpYmlsaXR5OiB0cnVlXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy50aGVtZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5vYnNlcnZlcnMgPSBuZXcgTWFwKCk7XG5cbiAgICAgICAgdGhpcy5zZXR1cFRoZW1lcygpO1xuICAgICAgICB0aGlzLnNldHVwQW5pbWF0aW9ucygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgKiDjg4bjg7zjg57oqK3lrppcbiAgICovXG4gICAgc2V0dXBUaGVtZXMoKSB7XG4gICAgICAgIHRoaXMudGhlbWVzLnNldCgnbGlnaHQnLCB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmZmZmJyxcbiAgICAgICAgICAgIGNvbG9yOiAnIzFmMjkzNycsXG4gICAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgI2U1ZTdlYicsXG4gICAgICAgICAgICBib3hTaGFkb3c6XG4gICAgICAgICcwIDRweCA2cHggLTFweCByZ2JhKDAsIDAsIDAsIDAuMSksIDAgMnB4IDRweCAtMXB4IHJnYmEoMCwgMCwgMCwgMC4wNiknLFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnOHB4JyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTVweCcsXG4gICAgICAgICAgICBsaW5lSGVpZ2h0OiAnMS42JyxcbiAgICAgICAgICAgIHBhZGRpbmc6ICcxMnB4IDE2cHgnLFxuICAgICAgICAgICAgZm9udEZhbWlseTogXCInTm90byBTYW5zIEpQJywgJ0ludGVyJywgc2Fucy1zZXJpZlwiLFxuICAgICAgICAgICAgZm9udFdlaWdodDogJzQwMCcsXG4gICAgICAgICAgICBsZXR0ZXJTcGFjaW5nOiAnMC4wMjVlbSdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy50aGVtZXMuc2V0KCdkYXJrJywge1xuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzFmMjkzNycsXG4gICAgICAgICAgICBjb2xvcjogJyNmOWZhZmInLFxuICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICMzNzQxNTEnLFxuICAgICAgICAgICAgYm94U2hhZG93OlxuICAgICAgICAnMCA0cHggNnB4IC0xcHggcmdiYSgwLCAwLCAwLCAwLjMpLCAwIDJweCA0cHggLTFweCByZ2JhKDAsIDAsIDAsIDAuMSknLFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnOHB4JyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTVweCcsXG4gICAgICAgICAgICBsaW5lSGVpZ2h0OiAnMS42JyxcbiAgICAgICAgICAgIHBhZGRpbmc6ICcxMnB4IDE2cHgnLFxuICAgICAgICAgICAgZm9udEZhbWlseTogXCInTm90byBTYW5zIEpQJywgJ0ludGVyJywgc2Fucy1zZXJpZlwiLFxuICAgICAgICAgICAgZm9udFdlaWdodDogJzQwMCcsXG4gICAgICAgICAgICBsZXR0ZXJTcGFjaW5nOiAnMC4wMjVlbSdcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAqIOOCouODi+ODoeODvOOCt+ODp+ODs+ioreWumlxuICAgKi9cbiAgICBzZXR1cEFuaW1hdGlvbnMoKSB7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucy5zZXQoJ2ZhZGVJbicsIHtcbiAgICAgICAgICAgIHNob3c6IHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAnMCcsXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgtNXB4KScsXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJ29wYWNpdHkgMC4ycyBlYXNlLCB0cmFuc2Zvcm0gMC4ycyBlYXNlJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHZpc2libGU6IHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAnMScsXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgwKScsXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJ29wYWNpdHkgMC4ycyBlYXNlLCB0cmFuc2Zvcm0gMC4ycyBlYXNlJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGhpZGU6IHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAnMCcsXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgtNXB4KScsXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJ29wYWNpdHkgMC4xNXMgZWFzZSwgdHJhbnNmb3JtIDAuMTVzIGVhc2UnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucy5zZXQoJ3NsaWRlJywge1xuICAgICAgICAgICAgc2hvdzoge1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6ICcwJyxcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKDEwcHgpJyxcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAnb3BhY2l0eSAwLjJzIGVhc2UsIHRyYW5zZm9ybSAwLjJzIGVhc2UnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdmlzaWJsZToge1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6ICcxJyxcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKDApJyxcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAnb3BhY2l0eSAwLjJzIGVhc2UsIHRyYW5zZm9ybSAwLjJzIGVhc2UnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaGlkZToge1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6ICcwJyxcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKDEwcHgpJyxcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAnb3BhY2l0eSAwLjE1cyBlYXNlLCB0cmFuc2Zvcm0gMC4xNXMgZWFzZSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5hbmltYXRpb25zLnNldCgnc2NhbGUnLCB7XG4gICAgICAgICAgICBzaG93OiB7XG4gICAgICAgICAgICAgICAgb3BhY2l0eTogJzAnLFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogJ3NjYWxlKDAuOTUpJyxcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAnb3BhY2l0eSAwLjJzIGVhc2UsIHRyYW5zZm9ybSAwLjJzIGVhc2UnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdmlzaWJsZToge1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6ICcxJyxcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06ICdzY2FsZSgxKScsXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJ29wYWNpdHkgMC4ycyBlYXNlLCB0cmFuc2Zvcm0gMC4ycyBlYXNlJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGhpZGU6IHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAnMCcsXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiAnc2NhbGUoMC45NSknLFxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb246ICdvcGFjaXR5IDAuMTVzIGVhc2UsIHRyYW5zZm9ybSAwLjE1cyBlYXNlJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICog5Yid5pyf5YyWXG4gICAqL1xuICAgIGluaXRpYWxpemUoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzSW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUNvbnRhaW5lcigpO1xuICAgICAgICAgICAgdGhpcy5zZXR1cEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgICAgICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBUb29sdGlwTWFuYWdlciBpbml0aWFsaXplZCcpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFRvb2x0aXBNYW5hZ2VyIGluaXRpYWxpemF0aW9uIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgKiDjgrPjg7Pjg4bjg4rkvZzmiJBcbiAgICovXG4gICAgY3JlYXRlQ29udGFpbmVyKCkge1xuICAgICAgICBjb25zdCBleGlzdGluZ0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b29sdGlwLWNvbnRhaW5lcicpO1xuICAgICAgICBpZiAoZXhpc3RpbmdDb250YWluZXIpIHtcbiAgICAgICAgICAgIGV4aXN0aW5nQ29udGFpbmVyLnJlbW92ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNvbnRhaW5lci5pZCA9ICd0b29sdGlwLWNvbnRhaW5lcic7XG4gICAgICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSAndG9vbHRpcC1jb250YWluZXInO1xuICAgICAgICBjb250YWluZXIuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgICAgICAgIHotaW5kZXg6ICR7dGhpcy5jb25maWcuekluZGV4fTtcbiAgICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgICAgICAgICAgb3BhY2l0eTogMDtcbiAgICAgICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMC4ycyBlYXNlO1xuICAgICAgICBgO1xuXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICog44Kk44OZ44Oz44OI44Oq44K544OK44O86Kit5a6aXG4gICAqL1xuICAgIHNldHVwRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgLy8g44Oe44Km44K544Kq44O844OQ44O8XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMuaGFuZGxlTW91c2VPdmVyLmJpbmQodGhpcyksIHtcbiAgICAgICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8g44Oe44Km44K544Ki44Km44OIXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgdGhpcy5oYW5kbGVNb3VzZU91dC5iaW5kKHRoaXMpLCB7XG4gICAgICAgICAgICBwYXNzaXZlOiB0cnVlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIOODnuOCpuOCueenu+WLlVxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLmhhbmRsZU1vdXNlTW92ZS5iaW5kKHRoaXMpLCB7XG4gICAgICAgICAgICBwYXNzaXZlOiB0cnVlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIOOCueOCr+ODreODvOODq1xuICAgICAgICBpZiAodGhpcy5jb25maWcuaGlkZU9uU2Nyb2xsKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmhhbmRsZVNjcm9sbC5iaW5kKHRoaXMpLCB7XG4gICAgICAgICAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyDjg6rjgrXjgqTjgrpcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLmhpZGVPblJlc2l6ZSkge1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuaGFuZGxlUmVzaXplLmJpbmQodGhpcyksIHtcbiAgICAgICAgICAgICAgICBwYXNzaXZlOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOOCqOOCueOCseODvOODl+OCreODvFxuICAgICAgICBpZiAodGhpcy5jb25maWcuaGlkZU9uRXNjYXBlKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5oYW5kbGVLZXlEb3duLmJpbmQodGhpcykpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAqIOODnuOCpuOCueOCquODvOODkOODvOWHpueQhlxuICAgKi9cbiAgICBoYW5kbGVNb3VzZU92ZXIoZXZlbnQpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZmluZENsb3Nlc3RFbGVtZW50KGV2ZW50LnRhcmdldCwgJ1tkYXRhLXRvb2x0aXBdJyk7XG4gICAgICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8g5pei5a2Y44Gu44K/44Kk44Og44Ki44Km44OI44KS44Kv44Oq44KiXG4gICAgICAgIGlmICh0aGlzLmhvdmVyVGltZW91dCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaG92ZXJUaW1lb3V0KTtcbiAgICAgICAgICAgIHRoaXMuaG92ZXJUaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOmBheW7tuW+jOOBq+ODhOODvOODq+ODgeODg+ODl+OCkuihqOekulxuICAgICAgICB0aGlzLmhvdmVyVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNFbGVtZW50SG92ZXJlZChlbGVtZW50KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2hvd1Rvb2x0aXAoZWxlbWVudCwgZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzLmNvbmZpZy5kZWxheSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAqIOODnuOCpuOCueOCouOCpuODiOWHpueQhlxuICAgKi9cbiAgICBoYW5kbGVNb3VzZU91dChldmVudCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5maW5kQ2xvc2VzdEVsZW1lbnQoZXZlbnQudGFyZ2V0LCAnW2RhdGEtdG9vbHRpcF0nKTtcbiAgICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyDjgr/jgqTjg6DjgqLjgqbjg4jjgpLjgq/jg6rjgqJcbiAgICAgICAgaWYgKHRoaXMuaG92ZXJUaW1lb3V0KSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5ob3ZlclRpbWVvdXQpO1xuICAgICAgICAgICAgdGhpcy5ob3ZlclRpbWVvdXQgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8g6YGF5bu25b6M44Gr44OE44O844Or44OB44OD44OX44KS6Z2e6KGo56S6XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlzRWxlbWVudEhvdmVyZWQoZWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhpZGVUb29sdGlwKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMuY29uZmlnLmhpZGVEZWxheSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAqIOODnuOCpuOCueenu+WLleWHpueQhlxuICAgKi9cbiAgICBoYW5kbGVNb3VzZU1vdmUoZXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlVG9vbHRpcCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVQb3NpdGlvbihldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICog44K544Kv44Ot44O844Or5Yem55CGXG4gICAqL1xuICAgIGhhbmRsZVNjcm9sbCgpIHtcbiAgICAgICAgdGhpcy5oaWRlVG9vbHRpcCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgKiDjg6rjgrXjgqTjgrrlh6bnkIZcbiAgICovXG4gICAgaGFuZGxlUmVzaXplKCkge1xuICAgICAgICB0aGlzLmhpZGVUb29sdGlwKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAqIOOCreODvOODgOOCpuODs+WHpueQhlxuICAgKi9cbiAgICBoYW5kbGVLZXlEb3duKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICAgICAgICB0aGlzLmhpZGVUb29sdGlwKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICog6KaB57Sg44GM44Ob44OQ44O844GV44KM44Gm44GE44KL44GL44OB44Kn44OD44KvXG4gICAqL1xuICAgIGlzRWxlbWVudEhvdmVyZWQoZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gZWxlbWVudC5tYXRjaGVzKCc6aG92ZXInKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICog44Kv44Ot44K544OW44Op44Km44K25a++5b+c44GuY2xvc2VzdOODoeOCveODg+ODiVxuICAgKi9cbiAgICBmaW5kQ2xvc2VzdEVsZW1lbnQoZWxlbWVudCwgc2VsZWN0b3IpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQuY2xvc2VzdCkge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuY2xvc2VzdChzZWxlY3Rvcik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyDjg5Xjgqnjg7zjg6vjg5Djg4Pjgq/lrp/oo4VcbiAgICAgICAgd2hpbGUgKGVsZW1lbnQgJiYgZWxlbWVudC5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUpIHtcbiAgICAgICAgICAgIGlmIChlbGVtZW50Lm1hdGNoZXMgJiYgZWxlbWVudC5tYXRjaGVzKHNlbGVjdG9yKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICog44OE44O844Or44OB44OD44OX6KGo56S6XG4gICAqL1xuICAgIHNob3dUb29sdGlwKGVsZW1lbnQsIGV2ZW50KSB7XG4gICAgLy8g5pei5a2Y44Gu44OE44O844Or44OB44OD44OX44KS6Z2e6KGo56S6XG4gICAgICAgIHRoaXMuaGlkZVRvb2x0aXAoKTtcblxuICAgICAgICBjb25zdCB0b29sdGlwVGV4dCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAnKTtcbiAgICAgICAgaWYgKCF0b29sdGlwVGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29uZmlnID0gdGhpcy5nZXRFbGVtZW50Q29uZmlnKGVsZW1lbnQpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVRvb2x0aXAodG9vbHRpcFRleHQsIGNvbmZpZywgZXZlbnQpO1xuICAgICAgICAgICAgdGhpcy5hY3RpdmVUb29sdGlwID0geyBlbGVtZW50LCBjb25maWcgfTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gc2hvdyB0b29sdGlwOicsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgKiDjg4Tjg7zjg6vjg4Hjg4Pjg5fpnZ7ooajnpLpcbiAgICovXG4gICAgaGlkZVRvb2x0aXAoKSB7XG4gICAgICAgIGlmICghdGhpcy5hY3RpdmVUb29sdGlwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9vbHRpcC1jb250YWluZXInKTtcbiAgICAgICAgaWYgKCFjb250YWluZXIpIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlVG9vbHRpcCA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0b29sdGlwID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy50b29sdGlwJyk7XG4gICAgICAgIGlmICghdG9vbHRpcCkge1xuICAgICAgICAgICAgdGhpcy5hY3RpdmVUb29sdGlwID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMuYWN0aXZlVG9vbHRpcC5jb25maWc7XG4gICAgICAgIGNvbnN0IGFuaW1hdGlvbiA9IHRoaXMuYW5pbWF0aW9ucy5nZXQoY29uZmlnLmFuaW1hdGlvbik7XG5cbiAgICAgICAgaWYgKGFuaW1hdGlvbiAmJiBhbmltYXRpb24uaGlkZSkge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0b29sdGlwLnN0eWxlLCBhbmltYXRpb24uaGlkZSk7XG5cbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlVG9vbHRpcCgpO1xuICAgICAgICAgICAgfSwgMTUwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlVG9vbHRpcCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAqIOODhOODvOODq+ODgeODg+ODl+WJiumZpFxuICAgKi9cbiAgICByZW1vdmVUb29sdGlwKCkge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9vbHRpcC1jb250YWluZXInKTtcbiAgICAgICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAnMCc7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFjdGl2ZVRvb2x0aXAgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgKiDjg4Tjg7zjg6vjg4Hjg4Pjg5fkvZzmiJBcbiAgICovXG4gICAgY3JlYXRlVG9vbHRpcCh0ZXh0LCBjb25maWcsIGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b29sdGlwLWNvbnRhaW5lcicpO1xuICAgICAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUb29sdGlwIGNvbnRhaW5lciBub3QgZm91bmQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRvb2x0aXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdG9vbHRpcC5jbGFzc05hbWUgPSAndG9vbHRpcCc7XG4gICAgICAgIHRvb2x0aXAudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgICAgICB0b29sdGlwLnNldEF0dHJpYnV0ZSgncm9sZScsICd0b29sdGlwJyk7XG4gICAgICAgIHRvb2x0aXAuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuXG4gICAgICAgIC8vIOODhuODvOODnumBqeeUqFxuICAgICAgICBjb25zdCB0aGVtZSA9IHRoaXMudGhlbWVzLmdldChjb25maWcudGhlbWUpIHx8IHRoaXMudGhlbWVzLmdldCgnbGlnaHQnKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0b29sdGlwLnN0eWxlLCB7XG4gICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgIG1heFdpZHRoOiBgJHtjb25maWcubWF4V2lkdGh9cHhgLFxuICAgICAgICAgICAgbWluV2lkdGg6IGAke2NvbmZpZy5taW5XaWR0aH1weGAsXG4gICAgICAgICAgICB3aWR0aDogJ2F1dG8nLFxuICAgICAgICAgICAgekluZGV4OiB0aGlzLmNvbmZpZy56SW5kZXggKyAxLFxuICAgICAgICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgICAgICAgICAgd2hpdGVTcGFjZTogJ3ByZS13cmFwJyxcbiAgICAgICAgICAgIHdvcmRXcmFwOiAnYnJlYWstd29yZCcsXG4gICAgICAgICAgICAuLi50aGVtZVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyDjgqLjg4vjg6Hjg7zjgrfjg6fjg7PpgannlKhcbiAgICAgICAgY29uc3QgYW5pbWF0aW9uID0gdGhpcy5hbmltYXRpb25zLmdldChjb25maWcuYW5pbWF0aW9uKTtcbiAgICAgICAgaWYgKGFuaW1hdGlvbiAmJiBhbmltYXRpb24uc2hvdykge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0b29sdGlwLnN0eWxlLCBhbmltYXRpb24uc2hvdyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyDnn6LljbDov73liqBcbiAgICAgICAgaWYgKGNvbmZpZy5hcnJvdykge1xuICAgICAgICAgICAgdGhpcy5hZGRBcnJvdyh0b29sdGlwLCBjb25maWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRvb2x0aXApO1xuICAgICAgICBjb250YWluZXIuc3R5bGUub3BhY2l0eSA9ICcxJztcblxuICAgICAgICAvLyDkvY3nva7oqIjnrpdcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVQb3NpdGlvbih0b29sdGlwLCBldmVudCwgY29uZmlnKTtcblxuICAgICAgICAvLyDjgqLjg4vjg6Hjg7zjgrfjg6fjg7PooajnpLpcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChhbmltYXRpb24gJiYgYW5pbWF0aW9uLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHRvb2x0aXAuc3R5bGUsIGFuaW1hdGlvbi52aXNpYmxlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdG9vbHRpcC5zdHlsZS5vcGFjaXR5ID0gJzEnO1xuICAgICAgICAgICAgICAgIHRvb2x0aXAuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoMCknO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICog55+i5Y2w6L+95YqgXG4gICAqL1xuICAgIGFkZEFycm93KHRvb2x0aXAsIGNvbmZpZykge1xuICAgICAgICBjb25zdCBhcnJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBhcnJvdy5jbGFzc05hbWUgPSAndG9vbHRpcC1hcnJvdyc7XG4gICAgICAgIGFycm93LnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICB3aWR0aDogMDtcbiAgICAgICAgICAgIGhlaWdodDogMDtcbiAgICAgICAgICAgIGJvcmRlcjogNXB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgICAgICBgO1xuXG4gICAgICAgIGNvbnN0IHRoZW1lID0gdGhpcy50aGVtZXMuZ2V0KGNvbmZpZy50aGVtZSkgfHwgdGhpcy50aGVtZXMuZ2V0KCdsaWdodCcpO1xuXG4gICAgICAgIHN3aXRjaCAoY29uZmlnLnBvc2l0aW9uKSB7XG4gICAgICAgICAgICBjYXNlICd0b3AnOlxuICAgICAgICAgICAgICAgIGFycm93LnN0eWxlLmJvdHRvbSA9ICctMTBweCc7XG4gICAgICAgICAgICAgICAgYXJyb3cuc3R5bGUubGVmdCA9ICc1MCUnO1xuICAgICAgICAgICAgICAgIGFycm93LnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKC01MCUpJztcbiAgICAgICAgICAgICAgICBhcnJvdy5zdHlsZS5ib3JkZXJUb3BDb2xvciA9IHRoZW1lLmJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICAgICAgICAgICAgYXJyb3cuc3R5bGUudG9wID0gJy0xMHB4JztcbiAgICAgICAgICAgICAgICBhcnJvdy5zdHlsZS5sZWZ0ID0gJzUwJSc7XG4gICAgICAgICAgICAgICAgYXJyb3cuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoLTUwJSknO1xuICAgICAgICAgICAgICAgIGFycm93LnN0eWxlLmJvcmRlckJvdHRvbUNvbG9yID0gdGhlbWUuYmFja2dyb3VuZENvbG9yO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgICAgICAgYXJyb3cuc3R5bGUucmlnaHQgPSAnLTEwcHgnO1xuICAgICAgICAgICAgICAgIGFycm93LnN0eWxlLnRvcCA9ICc1MCUnO1xuICAgICAgICAgICAgICAgIGFycm93LnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKC01MCUpJztcbiAgICAgICAgICAgICAgICBhcnJvdy5zdHlsZS5ib3JkZXJMZWZ0Q29sb3IgPSB0aGVtZS5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgICAgICAgYXJyb3cuc3R5bGUubGVmdCA9ICctMTBweCc7XG4gICAgICAgICAgICAgICAgYXJyb3cuc3R5bGUudG9wID0gJzUwJSc7XG4gICAgICAgICAgICAgICAgYXJyb3cuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoLTUwJSknO1xuICAgICAgICAgICAgICAgIGFycm93LnN0eWxlLmJvcmRlclJpZ2h0Q29sb3IgPSB0aGVtZS5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICB0b29sdGlwLmFwcGVuZENoaWxkKGFycm93KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICog5L2N572u6KiI566XXG4gICAqL1xuICAgIGNhbGN1bGF0ZVBvc2l0aW9uKHRvb2x0aXAsIGV2ZW50LCBjb25maWcpIHtcbiAgICAgICAgY29uc3QgcmVjdCA9IGV2ZW50LnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3QgdG9vbHRpcFJlY3QgPSB0b29sdGlwLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCB2aWV3cG9ydCA9IHtcbiAgICAgICAgICAgIHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogd2luZG93LmlubmVySGVpZ2h0XG4gICAgICAgIH07XG5cbiAgICAgICAgbGV0IHgsIHk7XG5cbiAgICAgICAgc3dpdGNoIChjb25maWcucG9zaXRpb24pIHtcbiAgICAgICAgICAgIGNhc2UgJ3RvcCc6XG4gICAgICAgICAgICAgICAgeCA9IHJlY3QubGVmdCArIHJlY3Qud2lkdGggLyAyIC0gdG9vbHRpcFJlY3Qud2lkdGggLyAyO1xuICAgICAgICAgICAgICAgIHkgPSByZWN0LnRvcCAtIHRvb2x0aXBSZWN0LmhlaWdodCAtIGNvbmZpZy5vZmZzZXQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdib3R0b20nOlxuICAgICAgICAgICAgICAgIHggPSByZWN0LmxlZnQgKyByZWN0LndpZHRoIC8gMiAtIHRvb2x0aXBSZWN0LndpZHRoIC8gMjtcbiAgICAgICAgICAgICAgICB5ID0gcmVjdC5ib3R0b20gKyBjb25maWcub2Zmc2V0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgICAgICAgeCA9IHJlY3QubGVmdCAtIHRvb2x0aXBSZWN0LndpZHRoIC0gY29uZmlnLm9mZnNldDtcbiAgICAgICAgICAgICAgICB5ID0gcmVjdC50b3AgKyByZWN0LmhlaWdodCAvIDIgLSB0b29sdGlwUmVjdC5oZWlnaHQgLyAyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgICAgICAgIHggPSByZWN0LnJpZ2h0ICsgY29uZmlnLm9mZnNldDtcbiAgICAgICAgICAgICAgICB5ID0gcmVjdC50b3AgKyByZWN0LmhlaWdodCAvIDIgLSB0b29sdGlwUmVjdC5oZWlnaHQgLyAyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB4ID0gZXZlbnQuY2xpZW50WCArIDEwO1xuICAgICAgICAgICAgICAgIHkgPSBldmVudC5jbGllbnRZIC0gdG9vbHRpcFJlY3QuaGVpZ2h0IC0gMTA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyDliJ3mnJ/kvY3nva7jgpLoqK3lrprvvIhnZXRCb3VuZGluZ0NsaWVudFJlY3TjgYzmraPjgZfjgY/li5XkvZzjgZnjgovjgojjgYbjgavvvIlcbiAgICAgICAgdG9vbHRpcC5zdHlsZS5sZWZ0ID0gYCR7eH1weGA7XG4gICAgICAgIHRvb2x0aXAuc3R5bGUudG9wID0gYCR7eX1weGA7XG5cbiAgICAgICAgLy8g5a6f6Zqb44Gu44K144Kk44K644KS5Y+W5b6X44GX44Gm5YaN6KiI566XXG4gICAgICAgIGNvbnN0IGFjdHVhbFJlY3QgPSB0b29sdGlwLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIHN3aXRjaCAoY29uZmlnLnBvc2l0aW9uKSB7XG4gICAgICAgICAgICBjYXNlICd0b3AnOlxuICAgICAgICAgICAgICAgIHggPSByZWN0LmxlZnQgKyByZWN0LndpZHRoIC8gMiAtIGFjdHVhbFJlY3Qud2lkdGggLyAyO1xuICAgICAgICAgICAgICAgIHkgPSByZWN0LnRvcCAtIGFjdHVhbFJlY3QuaGVpZ2h0IC0gY29uZmlnLm9mZnNldDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICAgICAgICAgICAgeCA9IHJlY3QubGVmdCArIHJlY3Qud2lkdGggLyAyIC0gYWN0dWFsUmVjdC53aWR0aCAvIDI7XG4gICAgICAgICAgICAgICAgeSA9IHJlY3QuYm90dG9tICsgY29uZmlnLm9mZnNldDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgICAgICAgIHggPSByZWN0LmxlZnQgLSBhY3R1YWxSZWN0LndpZHRoIC0gY29uZmlnLm9mZnNldDtcbiAgICAgICAgICAgICAgICB5ID0gcmVjdC50b3AgKyByZWN0LmhlaWdodCAvIDIgLSBhY3R1YWxSZWN0LmhlaWdodCAvIDI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgICAgICAgeCA9IHJlY3QucmlnaHQgKyBjb25maWcub2Zmc2V0O1xuICAgICAgICAgICAgICAgIHkgPSByZWN0LnRvcCArIHJlY3QuaGVpZ2h0IC8gMiAtIGFjdHVhbFJlY3QuaGVpZ2h0IC8gMjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOODk+ODpeODvOODneODvOODiOWGheOBq+WPjuOCgeOCi1xuICAgICAgICB4ID0gTWF0aC5tYXgoOCwgTWF0aC5taW4oeCwgdmlld3BvcnQud2lkdGggLSB0b29sdGlwUmVjdC53aWR0aCAtIDgpKTtcbiAgICAgICAgeSA9IE1hdGgubWF4KDgsIE1hdGgubWluKHksIHZpZXdwb3J0LmhlaWdodCAtIHRvb2x0aXBSZWN0LmhlaWdodCAtIDgpKTtcblxuICAgICAgICB0b29sdGlwLnN0eWxlLmxlZnQgPSBgJHt4fXB4YDtcbiAgICAgICAgdG9vbHRpcC5zdHlsZS50b3AgPSBgJHt5fXB4YDtcbiAgICB9XG5cbiAgICAvKipcbiAgICog5L2N572u5pu05pawXG4gICAqL1xuICAgIHVwZGF0ZVBvc2l0aW9uKGV2ZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5hY3RpdmVUb29sdGlwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0b29sdGlwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvb2x0aXAnKTtcbiAgICAgICAgaWYgKCF0b29sdGlwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb25maWcgPSB0aGlzLmFjdGl2ZVRvb2x0aXAuY29uZmlnO1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZVBvc2l0aW9uKHRvb2x0aXAsIGV2ZW50LCBjb25maWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgKiDopoHntKDoqK3lrprlj5blvpdcbiAgICovXG4gICAgZ2V0RWxlbWVudENvbmZpZyhlbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHsgLi4udGhpcy5jb25maWcgfTtcblxuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAtcG9zaXRpb24nKTtcbiAgICAgICAgY29uc3QgZGVsYXkgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwLWRlbGF5Jyk7XG4gICAgICAgIGNvbnN0IG1heFdpZHRoID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcC1tYXgtd2lkdGgnKTtcbiAgICAgICAgY29uc3QgbWluV2lkdGggPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwLW1pbi13aWR0aCcpO1xuICAgICAgICBjb25zdCB0aGVtZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAtdGhlbWUnKTtcbiAgICAgICAgY29uc3QgYW5pbWF0aW9uID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcC1hbmltYXRpb24nKTtcblxuICAgICAgICBpZiAocG9zaXRpb24pIHtcbiAgICAgICAgICAgIGNvbmZpZy5wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWxheSkge1xuICAgICAgICAgICAgY29uZmlnLmRlbGF5ID0gcGFyc2VJbnQoZGVsYXkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXhXaWR0aCkge1xuICAgICAgICAgICAgY29uZmlnLm1heFdpZHRoID0gcGFyc2VJbnQobWF4V2lkdGgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtaW5XaWR0aCkge1xuICAgICAgICAgICAgY29uZmlnLm1pbldpZHRoID0gcGFyc2VJbnQobWluV2lkdGgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGVtZSkge1xuICAgICAgICAgICAgY29uZmlnLnRoZW1lID0gdGhlbWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFuaW1hdGlvbikge1xuICAgICAgICAgICAgY29uZmlnLmFuaW1hdGlvbiA9IGFuaW1hdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb25maWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAqIOODhOODvOODq+ODgeODg+ODl+i/veWKoFxuICAgKi9cbiAgICBhZGRUb29sdGlwKGVsZW1lbnQsIHRleHQsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBpZiAoIWVsZW1lbnQgfHwgIXRleHQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIEludmFsaWQgZWxlbWVudCBvciB0ZXh0IGZvciB0b29sdGlwJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyDjgrvjg6zjgq/jgr/jg7zmloflrZfliJfjga7loLTlkIjjga/opoHntKDjgpLlj5blvpdcbiAgICAgICAgbGV0IHRhcmdldEVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICBpZiAodHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0YXJnZXRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbGVtZW50KTtcbiAgICAgICAgICAgIGlmICghdGFyZ2V0RWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2Fybihg4pqg77iPIEVsZW1lbnQgbm90IGZvdW5kOiAke2VsZW1lbnR9YCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGFyZ2V0RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcCcsIHRleHQpO1xuXG4gICAgICAgIC8vIOOCquODl+OCt+ODp+ODs+OCkuODh+ODvOOCv+WxnuaAp+OBq+ioreWumlxuICAgICAgICBPYmplY3QuZW50cmllcyhvcHRpb25zKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0RWxlbWVudC5zZXRBdHRyaWJ1dGUoYGRhdGEtdG9vbHRpcC0ke2tleX1gLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgKiDli5XnmoTjg4Tjg7zjg6vjg4Hjg4Pjg5fov73liqBcbiAgICovXG4gICAgYWRkRHluYW1pY1Rvb2x0aXAoc2VsZWN0b3IsIHRleHQsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBjb25zdCBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICAgICAgICBlbGVtZW50cy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFkZFRvb2x0aXAoZWxlbWVudCwgdGV4dCwgb3B0aW9ucyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIOaWsOOBl+OBhOimgee0oOOBruebo+imllxuICAgICAgICB0aGlzLm9ic2VydmVOZXdFbGVtZW50cyhzZWxlY3RvciwgdGV4dCwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAqIOaWsOOBl+OBhOimgee0oOOBruebo+imllxuICAgKi9cbiAgICBvYnNlcnZlTmV3RWxlbWVudHMoc2VsZWN0b3IsIHRleHQsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMub2JzZXJ2ZXJzLmhhcyhzZWxlY3RvcikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG11dGF0aW9ucykgPT4ge1xuICAgICAgICAgICAgbXV0YXRpb25zLmZvckVhY2goKG11dGF0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgbXV0YXRpb24uYWRkZWROb2Rlcy5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUubWF0Y2hlcyAmJiBub2RlLm1hdGNoZXMoc2VsZWN0b3IpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRUb29sdGlwKG5vZGUsIHRleHQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZEVsZW1lbnRzID1cbiAgICAgICAgICAgICAgbm9kZS5xdWVyeVNlbGVjdG9yQWxsICYmIG5vZGUucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRFbGVtZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkRWxlbWVudHMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFRvb2x0aXAoZWxlbWVudCwgdGV4dCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmJvZHksIHtcbiAgICAgICAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICAgICAgICAgIHN1YnRyZWU6IHRydWVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5vYnNlcnZlcnMuc2V0KHNlbGVjdG9yLCBvYnNlcnZlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAqIOegtOajhFxuICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLmhpZGVUb29sdGlwKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuaG92ZXJUaW1lb3V0KSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5ob3ZlclRpbWVvdXQpO1xuICAgICAgICAgICAgdGhpcy5ob3ZlclRpbWVvdXQgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5vYnNlcnZlcnMuZm9yRWFjaCgob2JzZXJ2ZXIpID0+IG9ic2VydmVyLmRpc2Nvbm5lY3QoKSk7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzLmNsZWFyKCk7XG5cbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rvb2x0aXAtY29udGFpbmVyJyk7XG4gICAgICAgIGlmIChjb250YWluZXIpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWN0aXZlVG9vbHRpcCA9IG51bGw7XG4gICAgICAgIHRoaXMuaXNJbml0aWFsaXplZCA9IGZhbHNlO1xuICAgIH1cbn1cblxuLy8g44K344Oz44Kw44Or44OI44Oz44Kk44Oz44K544K/44Oz44K5XG5leHBvcnQgY29uc3QgdG9vbHRpcE1hbmFnZXIgPSBuZXcgVG9vbHRpcE1hbmFnZXIoKTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFIQSxJQUlhQSxjQUFjLEdBQUFDLE9BQUEsQ0FBQUQsY0FBQTtFQUN2QixTQUFBQSxlQUFBLEVBQWM7SUFBQUUsZUFBQSxPQUFBRixjQUFBO0lBQ1YsSUFBSSxDQUFDRyxhQUFhLEdBQUcsSUFBSTtJQUN6QixJQUFJLENBQUNDLFlBQVksR0FBRyxJQUFJO0lBQ3hCLElBQUksQ0FBQ0MsYUFBYSxHQUFHLEtBQUs7SUFDMUIsSUFBSSxDQUFDQyxNQUFNLEdBQUc7TUFDVkMsS0FBSyxFQUFFLEdBQUc7TUFDVkMsU0FBUyxFQUFFLEdBQUc7TUFDZEMsUUFBUSxFQUFFLEdBQUc7TUFDYkMsUUFBUSxFQUFFLEdBQUc7TUFDYkMsTUFBTSxFQUFFLEtBQUs7TUFDYkMsU0FBUyxFQUFFLFFBQVE7TUFDbkJDLEtBQUssRUFBRSxPQUFPO01BQ2RDLFFBQVEsRUFBRSxLQUFLO01BQ2ZDLE1BQU0sRUFBRSxDQUFDO01BQ1RDLEtBQUssRUFBRSxJQUFJO01BQ1hDLFdBQVcsRUFBRSxLQUFLO01BQ2xCQyxZQUFZLEVBQUUsSUFBSTtNQUNsQkMsWUFBWSxFQUFFLElBQUk7TUFDbEJDLFlBQVksRUFBRSxJQUFJO01BQ2xCQyxhQUFhLEVBQUU7SUFDbkIsQ0FBQztJQUVELElBQUksQ0FBQ0MsTUFBTSxHQUFHLElBQUlDLEdBQUcsQ0FBQyxDQUFDO0lBQ3ZCLElBQUksQ0FBQ0MsVUFBVSxHQUFHLElBQUlELEdBQUcsQ0FBQyxDQUFDO0lBQzNCLElBQUksQ0FBQ0UsU0FBUyxHQUFHLElBQUlGLEdBQUcsQ0FBQyxDQUFDO0lBRTFCLElBQUksQ0FBQ0csV0FBVyxDQUFDLENBQUM7SUFDbEIsSUFBSSxDQUFDQyxlQUFlLENBQUMsQ0FBQztFQUMxQjs7RUFFQTtBQUNKO0FB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