<!-- プログレッシブ・オーバーロード追跡ページ -->
<div id="progress-page-container">
    <!-- プログレスチャートコンテナ（遅延ロード対応） -->
    <div class="mb-6">
        <h2 class="text-3xl font-bold text-gray-800 mb-2">プログレッシブ・オーバーロード</h2>
        <p class="text-gray-600">トレーニングの進歩を可視化して効果的な筋力向上を実現しましょう</p>
    </div>
    
    <!-- 統計サマリー -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
        <div class="muscle-card rounded-lg p-6">
            <h3 class="text-lg font-semibold text-gray-800 mb-2">総ワークアウト数</h3>
            <div id="total-workouts" class="text-3xl font-bold text-blue-600">-</div>
        </div>
        <div class="muscle-card rounded-lg p-6">
            <h3 class="text-lg font-semibold text-gray-800 mb-2">平均重量向上</h3>
            <div id="avg-weight-increase" class="text-3xl font-bold text-green-600">-</div>
        </div>
        <div class="muscle-card rounded-lg p-6">
            <h3 class="text-lg font-semibent text-gray-800 mb-2">最高記録</h3>
            <div id="max-record" class="text-3xl font-bold text-purple-600">-</div>
        </div>
    </div>
    
    <!-- プログレスチャート（遅延ロード） -->
    <div class="muscle-card rounded-lg p-6 mb-6">
        <h3 class="text-xl font-semibold text-gray-800 mb-4">
            <i class="fas fa-chart-line text-blue-500 mr-2"></i>
            重量プログレス
        </h3>
        <div id="progress-chart-container" 
             data-lazy-component="progress-chart" 
             data-chart-data='{"type":"line","datasets":[]}' 
             class="h-64">
            <div class="text-center text-gray-500 py-8">
                <i class="fas fa-spinner fa-spin text-xl mb-2"></i>
                <p>チャートを読み込み中...</p>
            </div>
        </div>
    </div>
    
    <!-- 1RM計算チャート（遅延ロード） -->
    <div class="muscle-card rounded-lg p-6 mb-6">
        <h3 class="text-xl font-semibold text-gray-800 mb-4">
            <i class="fas fa-calculator text-green-500 mr-2"></i>
            1RM推移
        </h3>
        <div id="one-rm-chart-container" 
             data-lazy-component="chart" 
             data-chart-type="line"
             data-chart-data='{"type":"line","datasets":[]}' 
             class="h-64">
            <div class="text-center text-gray-500 py-8">
                <i class="fas fa-spinner fa-spin text-xl mb-2"></i>
                <p>1RMチャートを読み込み中...</p>
            </div>
        </div>
    </div>
</div>

<script type="module">
    import { progressPage } from '../js/pages/progressPage.js';
    
    // ページを初期化
    progressPage.init().catch(error => {
        console.error('Progress page initialization failed:', error);
    });
    
    // ページがアンロードされる際のクリーンアップ
    window.addEventListener('beforeunload', () => {
        progressPage.cleanup();
    });
    
    // ナビゲーション時のクリーンアップ
    window.addEventListener('navigate', (event) => {
        if (event.detail.page !== 'progress') {
            progressPage.cleanup();
        }
    });
</script>
