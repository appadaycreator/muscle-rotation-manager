<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Á≠ã„Éà„É¨ÈÉ®‰Ωç„É≠„Éº„ÉÜ„Éº„Ç∑„Éß„É≥ÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É† - MuscleRotationManager</title>
    <meta name="description" content="ÂäπÁéáÁöÑ„Å™Á≠ã„Éà„É¨ÈÉ®‰Ωç„É≠„Éº„ÉÜ„Éº„Ç∑„Éß„É≥„ÇíÁßëÂ≠¶ÁöÑ„Å´ÁÆ°ÁêÜ„ÄÇÂõûÂæ©ÊúüÈñì„ÇíËÄÉÊÖÆ„Åó„ÅüÊúÄÈÅ©„Å™„Éà„É¨„Éº„Éã„É≥„Ç∞„Çπ„Ç±„Ç∏„É•„Éº„É´ÊèêÊ°à„ÅßÁêÜÊÉ≥„ÅÆ„Éú„Éá„Ç£„É°„Ç§„ÇØ„Çí„Çµ„Éù„Éº„Éà">
    <meta name="keywords" content="Á≠ã„Éà„É¨,„Éà„É¨„Éº„Éã„É≥„Ç∞,ÈÉ®‰Ωç„É≠„Éº„ÉÜ„Éº„Ç∑„Éß„É≥,ÂõûÂæ©ÊúüÈñì,„ÉØ„Éº„ÇØ„Ç¢„Ç¶„Éà,„Éï„Ç£„ÉÉ„Éà„Éç„Çπ">
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#1f2937">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="MuscleRotationManager">
    
    <!-- OGP Tags -->
    <meta property="og:title" content="Á≠ã„Éà„É¨ÈÉ®‰Ωç„É≠„Éº„ÉÜ„Éº„Ç∑„Éß„É≥ÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†">
    <meta property="og:description" content="ÂäπÁéáÁöÑ„Å™Á≠ã„Éà„É¨ÈÉ®‰Ωç„É≠„Éº„ÉÜ„Éº„Ç∑„Éß„É≥„ÇíÁßëÂ≠¶ÁöÑ„Å´ÁÆ°ÁêÜ">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://appadaycreator.github.io/muscle-rotation-manager/">
    <meta property="og:image" content="https://appadaycreator.github.io/muscle-rotation-manager/assets/ogp-image.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Á≠ã„Éà„É¨ÈÉ®‰Ωç„É≠„Éº„ÉÜ„Éº„Ç∑„Éß„É≥ÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†">
    <meta name="twitter:description" content="ÂäπÁéáÁöÑ„Å™Á≠ã„Éà„É¨ÈÉ®‰Ωç„É≠„Éº„ÉÜ„Éº„Ç∑„Éß„É≥„ÇíÁßëÂ≠¶ÁöÑ„Å´ÁÆ°ÁêÜ">
    <meta name="twitter:image" content="https://appadaycreator.github.io/muscle-rotation-manager/assets/ogp-image.png">
    
    <!-- CDN Links -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-TXQGZRF9');</script>
    <!-- End Google Tag Manager -->
    
    <style>
        body {
            font-family: 'Noto Sans JP', 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        .font-size-xs { font-size: 0.625rem; }
        .font-size-sm { font-size: 0.75rem; }
        .font-size-base { font-size: 1rem; }
        .font-size-lg { font-size: 1.125rem; }
        .font-size-xl { font-size: 1.5rem; }
        
        .muscle-gradient {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .muscle-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .recovery-bar {
            height: 8px;
            border-radius: 4px;
            transition: all 0.3s ease;
        }
        
        .recovery-excellent { background: linear-gradient(90deg, #10b981, #34d399); }
        .recovery-good { background: linear-gradient(90deg, #f59e0b, #fbbf24); }
        .recovery-warning { background: linear-gradient(90deg, #ef4444, #f87171); }
        
        .muscle-part {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .muscle-part:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        .muscle-part.active {
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.1);
        }
        
        .hidden { display: none; }
        
        .calendar-day {
            min-height: 80px;
            border: 1px solid #e5e7eb;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .calendar-day:hover {
            background: #f9fafb;
        }
        
        .calendar-day.has-workout {
            background: rgba(102, 126, 234, 0.1);
        }
        
        .workout-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            display: inline-block;
            margin: 1px;
        }
        
        .chest-color { background: #ef4444; }
        .back-color { background: #10b981; }
        .shoulder-color { background: #f59e0b; }
        .arm-color { background: #8b5cf6; }
        .leg-color { background: #3b82f6; }
        .core-color { background: #ec4899; }
        
        .progress-ring {
            transform: rotate(-90deg);
        }
        
        .progress-ring-circle {
            stroke-dasharray: 0 100;
            stroke-dashoffset: 0;
            transition: stroke-dasharray 0.3s ease;
        }
        
        @media (max-width: 768px) {
            .desktop-sidebar { display: none; }
            .mobile-menu { display: block; }
        }
        
        @media (min-width: 769px) {
            .desktop-sidebar { display: block; }
            .mobile-menu { display: none; }
        }
        
        .sidebar-transition {
            transform: translateX(-100%);
            transition: transform 0.3s ease;
        }
        
        .sidebar-transition.open {
            transform: translateX(0);
        }
        
        .loading-spinner {
            border: 3px solid #f3f4f6;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 16px;
            border-radius: 8px;
            color: white;
            font-weight: 500;
            z-index: 1000;
            transform: translateX(100%);
            transition: transform 0.3s ease;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification.success { background: #10b981; }
        .notification.error { background: #ef4444; }
        .notification.warning { background: #f59e0b; }
        
        .chart-container {
            position: relative;
            height: 400px;
            margin: 20px 0;
        }
        
        .modal {
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
        }
        
        .modal-content {
            background: white;
            border-radius: 12px;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .exercise-card {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 16px;
            margin: 8px 0;
            transition: all 0.2s ease;
        }
        
        .exercise-card:hover {
            background: #f1f5f9;
            border-color: #667eea;
        }
        
        .difficulty-badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 500;
        }
        
        .difficulty-beginner { background: #dcfce7; color: #166534; }
        .difficulty-intermediate { background: #fef3c7; color: #92400e; }
        .difficulty-advanced { background: #fee2e2; color: #991b1b; }
        
        .lang-switch {
            cursor: pointer;
            padding: 8px 12px;
            border-radius: 6px;
            transition: all 0.2s ease;
        }
        
        .lang-switch:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .lang-switch.active {
            background: rgba(255, 255, 255, 0.2);
        }
        
        .affiliate-banner {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 16px;
            border-radius: 8px;
            margin: 16px 0;
            text-align: center;
        }
        
        .affiliate-banner a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            border: 1px solid white;
            padding: 8px 16px;
            border-radius: 6px;
            display: inline-block;
            margin-top: 8px;
            transition: all 0.2s ease;
        }
        
        .affiliate-banner a:hover {
            background: white;
            color: #667eea;
        }
        
        .print-hidden { display: none; }
        
         {
            .print-hidden { display: block; }
            .no-print { display: none; }
            body { font-size: 12px; }
            .container { max-width: none; }
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TXQGZRF9"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <div id="app" class="min-h-screen">
        <!-- Header -->
        <header class="muscle-gradient text-white shadow-lg">
            <div class="container mx-auto px-4 py-4">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-4">
                        <button id="mobile-menu-btn" class="md:hidden">
                            <i class="fas fa-bars text-xl"></i>
                        </button>
                        <h1 class="text-2xl font-bold">
                            <i class="fas fa-dumbbell mr-2"></i>
                            <span data-i18n="app.title">MuscleRotationManager</span>
                        </h1>
                    </div>
                    
                    <div class="flex items-center space-x-4">
                        <!-- Language Switch -->
                        <div class="flex items-center space-x-2">
                            <button class="lang-switch active" data-lang="ja">üáØüáµ</button>
                            <button class="lang-switch" data-lang="en">üá∫üá∏</button>
                        </div>
                        
                        <!-- Font Size Control -->
                        <div class="flex items-center space-x-2">
                            <button id="font-size-down" class="text-sm hover:bg-white hover:bg-opacity-20 p-2 rounded">
                                <i class="fas fa-minus"></i>
                            </button>
                            <span id="font-size-indicator" class="text-sm">A</span>
                            <button id="font-size-up" class="text-sm hover:bg-white hover:bg-opacity-20 p-2 rounded">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                        
                        <!-- User Menu -->
                        <div class="relative">
                            <button id="user-menu-btn" class="flex items-center space-x-2 hover:bg-white hover:bg-opacity-20 p-2 rounded">
                                <i class="fas fa-user-circle text-2xl"></i>
                                <span id="user-name" data-i18n="auth.guest">„Ç≤„Çπ„Éà</span>
                            </button>
                            <div id="user-menu" class="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 hidden">
                                <button id="login-btn" class="w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-100" data-i18n="auth.login">„É≠„Ç∞„Ç§„É≥</button>
                                <button id="register-btn" class="w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-100" data-i18n="auth.register">ÁôªÈå≤</button>
                                <button id="logout-btn" class="w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-100 hidden" data-i18n="auth.logout">„É≠„Ç∞„Ç¢„Ç¶„Éà</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <div class="flex">
            <!-- Desktop Sidebar -->
            <aside class="desktop-sidebar w-64 bg-white shadow-lg h-screen sticky top-0 overflow-y-auto">
                <nav class="p-4">
                    <ul class="space-y-2">
                        <li>
                            <button class="nav-item w-full flex items-center space-x-3 p-3 text-gray-700 hover:bg-gray-100 rounded-lg active" data-page="dashboard">
                                <i class="fas fa-tachometer-alt"></i>
                                <span data-i18n="nav.dashboard">„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ</span>
                            </button>
                        </li>
                        <li>
                            <button class="nav-item w-full flex items-center space-x-3 p-3 text-gray-700 hover:bg-gray-100 rounded-lg" data-page="workout">
                                <i class="fas fa-dumbbell"></i>
                                <span data-i18n="nav.workout">„ÉØ„Éº„ÇØ„Ç¢„Ç¶„Éà</span>
                            </button>
                        </li>
                        <li>
                            <button class="nav-item w-full flex items-center space-x-3 p-3 text-gray-700 hover:bg-gray-100 rounded-lg" data-page="calendar">
                                <i class="fas fa-calendar-alt"></i>
                                <span data-i18n="nav.calendar">„Ç´„É¨„É≥„ÉÄ„Éº</span>
                            </button>
                        </li>
                        <li>
                            <button class="nav-item w-full flex items-center space-x-3 p-3 text-gray-700 hover:bg-gray-100 rounded-lg" data-page="analytics">
                                <i class="fas fa-chart-line"></i>
                                <span data-i18n="nav.analytics">ÂàÜÊûê</span>
                            </button>
                        </li>
                        <li>
                            <button class="nav-item w-full flex items-center space-x-3 p-3 text-gray-700 hover:bg-gray-100 rounded-lg" data-page="exercises">
                                <i class="fas fa-list"></i>
                                <span data-i18n="nav.exercises">„Ç®„ÇØ„Çµ„Çµ„Ç§„Ç∫</span>
                            </button>
                        </li>
                        <li>
                            <button class="nav-item w-full flex items-center space-x-3 p-3 text-gray-700 hover:bg-gray-100 rounded-lg" data-page="settings">
                                <i class="fas fa-cog"></i>
                                <span data-i18n="nav.settings">Ë®≠ÂÆö</span>
                            </button>
                        </li>
                    </ul>
                </nav>
            </aside>

            <!-- Mobile Sidebar -->
            <aside id="mobile-sidebar" class="mobile-menu fixed inset-y-0 left-0 w-64 bg-white shadow-lg z-50 sidebar-transition">
                <div class="p-4">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-xl font-bold text-gray-800">„É°„Éã„É•„Éº</h2>
                        <button id="mobile-sidebar-close" class="text-gray-500 hover:text-gray-700">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                    <nav>
                        <ul class="space-y-2">
                            <li>
                                <button class="nav-item w-full flex items-center space-x-3 p-3 text-gray-700 hover:bg-gray-100 rounded-lg active" data-page="dashboard">
                                    <i class="fas fa-tachometer-alt"></i>
                                    <span data-i18n="nav.dashboard">„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ</span>
                                </button>
                            </li>
                            <li>
                                <button class="nav-item w-full flex items-center space-x-3 p-3 text-gray-700 hover:bg-gray-100 rounded-lg" data-page="workout">
                                    <i class="fas fa-dumbbell"></i>
                                    <span data-i18n="nav.workout">„ÉØ„Éº„ÇØ„Ç¢„Ç¶„Éà</span>
                                </button>
                            </li>
                            <li>
                                <button class="nav-item w-full flex items-center space-x-3 p-3 text-gray-700 hover:bg-gray-100 rounded-lg" data-page="calendar">
                                    <i class="fas fa-calendar-alt"></i>
                                    <span data-i18n="nav.calendar">„Ç´„É¨„É≥„ÉÄ„Éº</span>
                                </button>
                            </li>
                            <li>
                                <button class="nav-item w-full flex items-center space-x-3 p-3 text-gray-700 hover:bg-gray-100 rounded-lg" data-page="analytics">
                                    <i class="fas fa-chart-line"></i>
                                    <span data-i18n="nav.analytics">ÂàÜÊûê</span>
                                </button>
                            </li>
                            <li>
                                <button class="nav-item w-full flex items-center space-x-3 p-3 text-gray-700 hover:bg-gray-100 rounded-lg" data-page="exercises">
                                    <i class="fas fa-list"></i>
                                    <span data-i18n="nav.exercises">„Ç®„ÇØ„Çµ„Çµ„Ç§„Ç∫</span>
                                </button>
                            </li>
                            <li>
                                <button class="nav-item w-full flex items-center space-x-3 p-3 text-gray-700 hover:bg-gray-100 rounded-lg" data-page="settings">
                                    <i class="fas fa-cog"></i>
                                    <span data-i18n="nav.settings">Ë®≠ÂÆö</span>
                                </button>
                            </li>
                        </ul>
                    </nav>
                </div>
            </aside>

            <!-- Main Content -->
            <main class="flex-1 p-6">
                <!-- Dashboard Page -->
                <div id="dashboard-page" class="page-content">
                    <div class="mb-6">
                        <h2 class="text-3xl font-bold text-gray-800 mb-2" data-i18n="dashboard.title">„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ</h2>
                        <p class="text-gray-600" data-i18n="dashboard.subtitle">‰ªäÊó•„ÅÆ„Éà„É¨„Éº„Éã„É≥„Ç∞Áä∂Ê≥Å„Å®ÈÉ®‰ΩçÂà•ÂõûÂæ©Â∫¶„Çí„ÉÅ„Çß„ÉÉ„ÇØ„Åó„Åæ„Åó„Çá„ÅÜ</p>
                    </div>

                    <!-- Today's Recommendations -->
                    <div class="muscle-card rounded-lg p-6 mb-6">
                        <h3 class="text-xl font-semibold text-gray-800 mb-4">
                            <i class="fas fa-lightbulb text-yellow-500 mr-2"></i>
                            <span data-i18n="dashboard.recommendations">‰ªäÊó•„ÅÆ„Åä„Åô„Åô„ÇÅ</span>
                        </h3>
                        <div id="today-recommendations" class="space-y-3">
                            <div class="flex items-center space-x-3 p-3 bg-green-50 rounded-lg">
                                <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                                <span class="text-green-800" data-i18n="dashboard.rec1">ËÉ∏Á≠ã: ÂÆåÂÖ®ÂõûÂæ© - È´òÂº∑Â∫¶„Éà„É¨„Éº„Éã„É≥„Ç∞Êé®Â•®</span>
                            </div>
                            <div class="flex items-center space-x-3 p-3 bg-yellow-50 rounded-lg">
                                <div class="w-3 h-3 bg-yellow-500 rounded-full"></div>
                                <span class="text-yellow-800" data-i18n="dashboard.rec2">ËÉåÁ≠ã: ËªΩÂ∫¶Áñ≤Âä¥ - ËªΩ„ÇÅ„ÅÆ„Éà„É¨„Éº„Éã„É≥„Ç∞Êé®Â•®</span>
                            </div>
                            <div class="flex items-center space-x-3 p-3 bg-red-50 rounded-lg">
                                <div class="w-3 h-3 bg-red-500 rounded-full"></div>
                                <span class="text-red-800" data-i18n="dashboard.rec3">ËÇ©: ÂõûÂæ©‰∏≠ - ‰ºëÊÅØÊé®Â•®</span>
                            </div>
                        </div>
                    </div>

                    <!-- Muscle Groups Recovery Status -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6">
                        <div class="muscle-card muscle-part rounded-lg p-6" data-muscle="chest">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="text-lg font-semibold text-gray-800">
                                    <i class="fas fa-male text-red-500 mr-2"></i>
                                    <span data-i18n="muscle.chest">ËÉ∏Á≠ã</span>
                                </h3>
                                <span class="text-sm text-gray-500" data-i18n="dashboard.last_trained">ÊúÄÁµÇ: 2Êó•Ââç</span>
                            </div>
                            <div class="mb-3">
                                <div class="flex justify-between text-sm mb-1">
                                    <span data-i18n="dashboard.recovery">ÂõûÂæ©Â∫¶</span>
                                    <span class="font-semibold text-green-600">95%</span>
                                </div>
                                <div class="recovery-bar recovery-excellent rounded-full"></div>
                            </div>
                            <div class="text-sm text-gray-600" data-i18n="dashboard.next_recommended">Ê¨°ÂõûÊé®Â•®: ‰ªäÊó•</div>
                        </div>

                        <div class="muscle-card muscle-part rounded-lg p-6" data-muscle="back">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="text-lg font-semibold text-gray-800">
                                    <i class="fas fa-male text-green-500 mr-2"></i>
                                    <span data-i18n="muscle.back">ËÉåÁ≠ã</span>
                                </h3>
                                <span class="text-sm text-gray-500" data-i18n="dashboard.last_trained">ÊúÄÁµÇ: 1Êó•Ââç</span>
                            </div>
                            <div class="mb-3">
                                <div class="flex justify-between text-sm mb-1">
                                    <span data-i18n="dashboard.recovery">ÂõûÂæ©Â∫¶</span>
                                    <span class="font-semibold text-yellow-600">65%</span>
                                </div>
                                <div class="recovery-bar recovery-good rounded-full" style="width: 65%;"></div>
                            </div>
                            <div class="text-sm text-gray-600" data-i18n="dashboard.next_recommended">Ê¨°ÂõûÊé®Â•®: ÊòéÊó•</div>
                        </div>

                        <div class="muscle-card muscle-part rounded-lg p-6" data-muscle="shoulder">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="text-lg font-semibold text-gray-800">
                                    <i class="fas fa-male text-yellow-500 mr-2"></i>
                                    <span data-i18n="muscle.shoulder">ËÇ©</span>
                                </h3>
                                <span class="text-sm text-gray-500" data-i18n="dashboard.last_trained">ÊúÄÁµÇ: 1Êó•Ââç</span>
                            </div>
                            <div class="mb-3">
                                <div class="flex justify-between text-sm mb-1">
                                    <span data-i18n="dashboard.recovery">ÂõûÂæ©Â∫¶</span>
                                    <span class="font-semibold text-red-600">35%</span>
                                </div>
                                <div class="recovery-bar recovery-warning rounded-full" style="width: 35%;"></div>
                            </div>
                            <div class="text-sm text-gray-600" data-i18n="dashboard.next_recommended">Ê¨°ÂõûÊé®Â•®: 2Êó•Âæå</div>
                        </div>

                        <div class="muscle-card muscle-part rounded-lg p-6" data-muscle="arm">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="text-lg font-semibold text-gray-800">
                                    <i class="fas fa-male text-purple-500 mr-2"></i>
                                    <span data-i18n="muscle.arm">ËÖï</span>
                                </h3>
                                <span class="text-sm text-gray-500" data-i18n="dashboard.last_trained">ÊúÄÁµÇ: 3Êó•Ââç</span>
                            </div>
                            <div class="mb-3">
                                <div class="flex justify-between text-sm mb-1">
                                    <span data-i18n="dashboard.recovery">ÂõûÂæ©Â∫¶</span>
                                    <span class="font-semibold text-green-600">100%</span>
                                </div>
                                <div class="recovery-bar recovery-excellent rounded-full"></div>
                            </div>
                            <div class="text-sm text-gray-600" data-i18n="dashboard.next_recommended">Ê¨°ÂõûÊé®Â•®: ‰ªäÊó•</div>
                        </div>

                        <div class="muscle-card muscle-part rounded-lg p-6" data-muscle="leg">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="text-lg font-semibold text-gray-800">
                                    <i class="fas fa-male text-blue-500 mr-2"></i>
                                    <span data-i18n="muscle.leg">ËÑö</span>
                                </h3>
                                <span class="text-sm text-gray-500" data-i18n="dashboard.last_trained">ÊúÄÁµÇ: 2Êó•Ââç</span>
                            </div>
                            <div class="mb-3">
                                <div class="flex justify-between text-sm mb-1">
                                    <span data-i18n="dashboard.recovery">ÂõûÂæ©Â∫¶</span>
                                    <span class="font-semibold text-yellow-600">80%</span>
                                </div>
                                <div class="recovery-bar recovery-good rounded-full" style="width: 80%;"></div>
                            </div>
                            <div class="text-sm text-gray-600" data-i18n="dashboard.next_recommended">Ê¨°ÂõûÊé®Â•®: ‰ªäÊó•</div>
                        </div>

                        <div class="muscle-card muscle-part rounded-lg p-6" data-muscle="core">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="text-lg font-semibold text-gray-800">
                                    <i class="fas fa-male text-pink-500 mr-2"></i>
                                    <span data-i18n="muscle.core">‰ΩìÂππ</span>
                                </h3>
                                <span class="text-sm text-gray-500" data-i18n="dashboard.last_trained">ÊúÄÁµÇ: 1Êó•Ââç</span>
                            </div>
                            <div class="mb-3">
                                <div class="flex justify-between text-sm mb-1">
                                    <span data-i18n="dashboard.recovery">ÂõûÂæ©Â∫¶</span>
                                    <span class="font-semibold text-green-600">90%</span>
                                </div>
                                <div class="recovery-bar recovery-excellent rounded-full" style="width: 90%;"></div>
                            </div>
                            <div class="text-sm text-gray-600" data-i18n="dashboard.next_recommended">Ê¨°ÂõûÊé®Â•®: ‰ªäÊó•</div>
                        </div>
                    </div>

                    <!-- Recent Workouts -->
                    <div class="muscle-card rounded-lg p-6">
                        <h3 class="text-xl font-semibold text-gray-800 mb-4">
                            <i class="fas fa-history text-gray-500 mr-2"></i>
                            <span data-i18n="dashboard.recent_workouts">ÊúÄËøë„ÅÆ„ÉØ„Éº„ÇØ„Ç¢„Ç¶„Éà</span>
                        </h3>
                        <div id="recent-workouts" class="space-y-3">
                            <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                                <div class="flex items-center space-x-3">
                                    <div class="workout-dot chest-color"></div>
                                    <div>
                                        <div class="font-medium text-gray-800">ËÉ∏Á≠ã„Éà„É¨„Éº„Éã„É≥„Ç∞</div>
                                        <div class="text-sm text-gray-500">„Éô„É≥„ÉÅ„Éó„É¨„Çπ 3„Çª„ÉÉ„Éà √ó 10Âõû</div>
                                    </div>
                                </div>
                                <div class="text-sm text-gray-500">2024/01/15</div>
                            </div>
                            <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                                <div class="flex items-center space-x-3">
                                    <div class="workout-dot back-color"></div>
                                    <div>
                                        <div class="font-medium text-gray-800">ËÉåÁ≠ã„Éà„É¨„Éº„Éã„É≥„Ç∞</div>
                                        <div class="text-sm text-gray-500">„Éá„ÉÉ„Éâ„É™„Éï„Éà 3„Çª„ÉÉ„Éà √ó 8Âõû</div>
                                    </div>
                                </div>
                                <div class="text-sm text-gray-500">2024/01/14</div>
                            </div>
                            <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                                <div class="flex items-center space-x-3">
                                    <div class="workout-dot leg-color"></div>
                                    <div>
                                        <div class="font-medium text-gray-800">ËÑö„Éà„É¨„Éº„Éã„É≥„Ç∞</div>
                                        <div class="text-sm text-gray-500">„Çπ„ÇØ„ÉØ„ÉÉ„Éà 3„Çª„ÉÉ„Éà √ó 15Âõû</div>
                                    </div>
                                </div>
                                <div class="text-sm text-gray-500">2024/01/13</div>
                            </div>
                        </div>
                    </div>

                    <!-- Affiliate Banner -->
                    <div class="affiliate-banner">
                        <h3 class="text-lg font-semibold mb-2">
                            <i class="fas fa-star mr-2"></i>
                            „Åä„Åô„Åô„ÇÅ„ÅÆ„Éà„É¨„Éº„Éã„É≥„Ç∞Áî®ÂìÅ
                        </h3>
                        <p class="text-sm mb-3">ÂäπÊûúÁöÑ„Å™„Éà„É¨„Éº„Éã„É≥„Ç∞„ÅÆ„Åü„ÇÅ„Å´Âé≥ÈÅ∏„Åï„Çå„Åü„Ç¢„Ç§„ÉÜ„É†„Çí„ÅîÁ¥π‰ªã</p>
                        <a href="#" id="affiliate-link-1" target="_blank" rel="noopener">
                            <i class="fas fa-external-link-alt mr-2"></i>
                            „Éó„É≠„ÉÜ„Ç§„É≥„Éª„Çµ„Éó„É™„É°„É≥„Éà„ÇíË¶ã„Çã
                        </a>
                    </div>
                </div>

                <!-- Workout Page -->
                <div id="workout-page" class="page-content hidden">
                    <div class="mb-6">
                        <h2 class="text-3xl font-bold text-gray-800 mb-2" data-i18n="workout.title">„ÉØ„Éº„ÇØ„Ç¢„Ç¶„Éà</h2>
                        <p class="text-gray-600" data-i18n="workout.subtitle">‰ªäÊó•„ÅÆ„Éà„É¨„Éº„Éã„É≥„Ç∞„ÇíË®òÈå≤„Åó„Åæ„Åó„Çá„ÅÜ</p>
                    </div>

                    <!-- Quick Start -->
                    <div class="muscle-card rounded-lg p-6 mb-6">
                        <h3 class="text-xl font-semibold text-gray-800 mb-4">
                            <i class="fas fa-play-circle text-green-500 mr-2"></i>
                            <span data-i18n="workout.quick_start">„ÇØ„Ç§„ÉÉ„ÇØ„Çπ„Çø„Éº„Éà</span>
                        </h3>
                        <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4">
                            <button class="quick-start-btn flex flex-col items-center space-y-2 p-4 bg-red-50 hover:bg-red-100 rounded-lg transition-colors" data-muscle="chest">
                                <i class="fas fa-male text-red-500 text-2xl"></i>
                                <span class="text-sm font-medium text-red-800" data-i18n="muscle.chest">ËÉ∏Á≠ã</span>
                            </button>
                            <button class="quick-start-btn flex flex-col items-center space-y-2 p-4 bg-green-50 hover:bg-green-100 rounded-lg transition-colors" data-muscle="back">
                                <i class="fas fa-male text-green-500 text-2xl"></i>
                                <span class="text-sm font-medium text-green-800" data-i18n="muscle.back">ËÉåÁ≠ã</span>
                            </button>
                            <button class="quick-start-btn flex flex-col items-center space-y-2 p-4 bg-yellow-50 hover:bg-yellow-100 rounded-lg transition-colors" data-muscle="shoulder">
                                <i class="fas fa-male text-yellow-500 text-2xl"></i>
                                <span class="text-sm font-medium text-yellow-800" data-i18n="muscle.shoulder">ËÇ©</span>
                            </button>
                            <button class="quick-start-btn flex flex-col items-center space-y-2 p-4 bg-purple-50 hover:bg-purple-100 rounded-lg transition-colors" data-muscle="arm">
                                <i class="fas fa-male text-purple-500 text-2xl"></i>
                                <span class="text-sm font-medium text-purple-800" data-i18n="muscle.arm">ËÖï</span>
                            </button>
                            <button class="quick-start-btn flex flex-col items-center space-y-2 p-4 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors" data-muscle="leg">
                                <i class="fas fa-male text-blue-500 text-2xl"></i>
                                <span class="text-sm font-medium text-blue-800" data-i18n="muscle.leg">ËÑö</span>
                            </button>
                            <button class="quick-start-btn flex flex-col items-center space-y-2 p-4 bg-pink-50 hover:bg-pink-100 rounded-lg transition-colors" data-muscle="core">
                                <i class="fas fa-male text-pink-500 text-2xl"></i>
                                <span class="text-sm font-medium text-pink-800" data-i18n="muscle.core">‰ΩìÂππ</span>
                            </button>
                        </div>
                    </div>

                    <!-- Current Workout -->
                    <div id="current-workout" class="muscle-card rounded-lg p-6 mb-6 hidden">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-xl font-semibold text-gray-800">
                                <i class="fas fa-dumbbell text-blue-500 mr-2"></i>
                                <span data-i18n="workout.current">ÁèæÂú®„ÅÆ„ÉØ„Éº„ÇØ„Ç¢„Ç¶„Éà</span>
                            </h3>
                            <div class="flex items-center space-x-2">
                                <span class="text-sm text-gray-500" data-i18n="workout.duration">ÊôÇÈñì:</span>
                                <span id="workout-timer" class="text-lg font-bold text-blue-600">00:00</span>
                            </div>
                        </div>
                        
                        <div id="workout-exercises" class="space-y-4">
                            <!-- Exercises will be populated here -->
                        </div>
                        
                        <div class="flex justify-between mt-6">
                            <button id="add-exercise-btn" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors">
                                <i class="fas fa-plus mr-2"></i>
                                <span data-i18n="workout.add_exercise">„Ç®„ÇØ„Çµ„Çµ„Ç§„Ç∫„ÇíËøΩÂä†</span>
                            </button>
                            <div class="space-x-2">
                                <button id="pause-workout-btn" class="bg-yellow-500 text-white px-4 py-2 rounded-lg hover:bg-yellow-600 transition-colors">
                                    <i class="fas fa-pause mr-2"></i>
                                    <span data-i18n="workout.pause">‰∏ÄÊôÇÂÅúÊ≠¢</span>
                                </button>
                                <button id="finish-workout-btn" class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors">
                                    <i class="fas fa-check mr-2"></i>
                                    <span data-i18n="workout.finish">ÂÆå‰∫Ü</span>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Workout Templates -->
                    <div class="muscle-card rounded-lg p-6">
                        <h3 class="text-xl font-semibold text-gray-800 mb-4">
                            <i class="fas fa-bookmark text-purple-500 mr-2"></i>
                            <span data-i18n="workout.templates">„ÉØ„Éº„ÇØ„Ç¢„Ç¶„Éà„ÉÜ„É≥„Éó„É¨„Éº„Éà</span>
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                            <div class="border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow">
                                <h4 class="font-semibold text-gray-800 mb-2">ËÉ∏Á≠ãÂº∑Âåñ„Éó„É≠„Ç∞„É©„É†</h4>
                                <p class="text-sm text-gray-600 mb-3">ÂàùÂøÉËÄÖÂêë„Åë„ÅÆËÉ∏Á≠ã„Éà„É¨„Éº„Éã„É≥„Ç∞</p>
                                <div class="flex items-center justify-between">
                                    <span class="text-xs text-gray-500">45ÂàÜ | ÂàùÁ¥ö</span>
                                    <button class="text-blue-500 hover:text-blue-700 text-sm font-medium">‰ΩøÁî®„Åô„Çã</button>
                                </div>
                            </div>
                            <div class="border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow">
                                <h4 class="font-semibold text-gray-800 mb-2">ËÉåÁ≠ãÂº∑Âåñ„Éó„É≠„Ç∞„É©„É†</h4>
                                <p class="text-sm text-gray-600 mb-3">ËÉå‰∏≠„ÅÆÁ≠ãËÇâ„ÇíÂäπÊûúÁöÑ„Å´Èçõ„Åà„Çã</p>
                                <div class="flex items-center justify-between">
                                    <span class="text-xs text-gray-500">50ÂàÜ | ‰∏≠Á¥ö</span>
                                    <button class="text-blue-500 hover:text-blue-700 text-sm font-medium">‰ΩøÁî®„Åô„Çã</button>
                                </div>
                            </div>
                            <div class="border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow">
                                <h4 class="font-semibold text-gray-800 mb-2">ËÑöÂº∑Âåñ„Éó„É≠„Ç∞„É©„É†</h4>
                                <p class="text-sm text-gray-600 mb-3">‰∏ãÂçäË∫´„ÅÆÁ≠ãÂäõÂêë‰∏ä</p>
                                <div class="flex items-center justify-between">
                                    <span class="text-xs text-gray-500">60ÂàÜ | ‰∏≠Á¥ö</span>
                                    <button class="text-blue-500 hover:text-blue-700 text-sm font-medium">‰ΩøÁî®„Åô„Çã</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Calendar Page -->
                <div id="calendar-page" class="page-content hidden">
                    <div class="mb-6">
                        <h2 class="text-3xl font-bold text-gray-800 mb-2" data-i18n="calendar.title">„Ç´„É¨„É≥„ÉÄ„Éº</h2>
                        <p class="text-gray-600" data-i18n="calendar.subtitle">„Éà„É¨„Éº„Éã„É≥„Ç∞„Çπ„Ç±„Ç∏„É•„Éº„É´„ÇíÁ¢∫Ë™ç„ÉªÁÆ°ÁêÜ„Åó„Åæ„Åó„Çá„ÅÜ</p>
                    </div>

                    <!-- Calendar Controls -->
                    <div class="muscle-card rounded-lg p-4 mb-6">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-4">
                                <button id="prev-month" class="p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg">
                                    <i class="fas fa-chevron-left"></i>
                                </button>
                                <h3 id="current-month" class="text-xl font-semibold text-gray-800">2024Âπ¥1Êúà</h3>
                                <button id="next-month" class="p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg">
                                    <i class="fas fa-chevron-right"></i>
                                </button>
                            </div>
                            <div class="flex items-center space-x-2">
                                <button id="today-btn" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors">
                                    <span data-i18n="calendar.today">‰ªäÊó•</span>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Calendar Grid -->
                    <div class="muscle-card rounded-lg p-6">
                        <div class="grid grid-cols-7 gap-1 mb-4">
                            <div class="text-center text-sm font-medium text-gray-600 py-2" data-i18n="calendar.sun">Êó•</div>
                            <div class="text-center text-sm font-medium text-gray-600 py-2" data-i18n="calendar.mon">Êúà</div>
                            <div class="text-center text-sm font-medium text-gray-600 py-2" data-i18n="calendar.tue">ÁÅ´</div>
                            <div class="text-center text-sm font-medium text-gray-600 py-2" data-i18n="calendar.wed">Ê∞¥</div>
                            <div class="text-center text-sm font-medium text-gray-600 py-2" data-i18n="calendar.thu">Êú®</div>
                            <div class="text-center text-sm font-medium text-gray-600 py-2" data-i18n="calendar.fri">Èáë</div>
                            <div class="text-center text-sm font-medium text-gray-600 py-2" data-i18n="calendar.sat">Âúü</div>
                        </div>
                        <div id="calendar-grid" class="grid grid-cols-7 gap-1">
                            <!-- Calendar days will be populated here -->
                        </div>
                    </div>

                    <!-- Calendar Legend -->
                    <div class="muscle-card rounded-lg p-4 mt-6">
                        <h4 class="font-semibold text-gray-800 mb-3" data-i18n="calendar.legend">Âá°‰æã</h4>
                        <div class="flex flex-wrap gap-4">
                            <div class="flex items-center space-x-2">
                                <div class="workout-dot chest-color"></div>
                                <span class="text-sm text-gray-600" data-i18n="muscle.chest">ËÉ∏Á≠ã</span>
                            </div>
                            <div class="flex items-center space-x-2">
                                <div class="workout-dot back-color"></div>
                                <span class="text-sm text-gray-600" data-i18n="muscle.back">ËÉåÁ≠ã</span>
                            </div>
                            <div class="flex items-center space-x-2">
                                <div class="workout-dot shoulder-color"></div>
                                <span class="text-sm text-gray-600" data-i18n="muscle.shoulder">ËÇ©</span>
                            </div>
                            <div class="flex items-center space-x-2">
                                <div class="workout-dot arm-color"></div>
                                <span class="text-sm text-gray-600" data-i18n="muscle.arm">ËÖï</span>
                            </div>
                            <div class="flex items-center space-x-2">
                                <div class="workout-dot leg-color"></div>
                                <span class="text-sm text-gray-600" data-i18n="muscle.leg">ËÑö</span>
                            </div>
                            <div class="flex items-center space-x-2">
                                <div class="workout-dot core-color"></div>
                                <span class="text-sm text-gray-600" data-i18n="muscle.core">‰ΩìÂππ</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Analytics Page -->
                <div id="analytics-page" class="page-content hidden">
                    <div class="mb-6">
                        <h2 class="text-3xl font-bold text-gray-800 mb-2" data-i18n="analytics.title">ÂàÜÊûê</h2>
                        <p class="text-gray-600" data-i18n="analytics.subtitle">„Éà„É¨„Éº„Éã„É≥„Ç∞„ÅÆÈÄ≤Êçó„Å®Áµ±Ë®à„ÇíÁ¢∫Ë™ç„Åó„Åæ„Åó„Çá„ÅÜ</p>
                    </div>

                    <!-- Stats Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6">
                        <div class="muscle-card rounded-lg p-6">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-gray-600 mb-1" data-i18n="analytics.total_workouts">Á∑è„ÉØ„Éº„ÇØ„Ç¢„Ç¶„ÉàÊï∞</p>
                                    <p class="text-2xl font-bold text-gray-800">127</p>
                                </div>
                                <div class="bg-blue-100 p-3 rounded-full">
                                    <i class="fas fa-dumbbell text-blue-600 text-xl"></i>
                                </div>
                            </div>
                        </div>
                        <div class="muscle-card rounded-lg p-6">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-gray-600 mb-1" data-i18n="analytics.this_month">‰ªäÊúà„ÅÆ„ÉØ„Éº„ÇØ„Ç¢„Ç¶„Éà</p>
                                    <p class="text-2xl font-bold text-gray-800">15</p>
                                </div>
                                <div class="bg-green-100 p-3 rounded-full">
                                    <i class="fas fa-calendar-check text-green-600 text-xl"></i>
                                </div>
                            </div>
                        </div>
                        <div class="muscle-card rounded-lg p-6">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-gray-600 mb-1" data-i18n="analytics.avg_duration">Âπ≥ÂùáÊôÇÈñì</p>
                                    <p class="text-2xl font-bold text-gray-800">52ÂàÜ</p>
                                </div>
                                <div class="bg-yellow-100 p-3 rounded-full">
                                    <i class="fas fa-clock text-yellow-600 text-xl"></i>
                                </div>
                            </div>
                        </div>
                        <div class="muscle-card rounded-lg p-6">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-gray-600 mb-1" data-i18n="analytics.streak">ÈÄ£Á∂öÊó•Êï∞</p>
                                    <p class="text-2xl font-bold text-gray-800">7Êó•</p>
                                </div>
                                <div class="bg-purple-100 p-3 rounded-full">
                                    <i class="fas fa-fire text-purple-600 text-xl"></i>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Charts -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                        <!-- Workout Frequency Chart -->
                        <div class="muscle-card rounded-lg p-6">
                            <h3 class="text-xl font-semibold text-gray-800 mb-4">
                                <i class="fas fa-chart-bar text-blue-500 mr-2"></i>
                                <span data-i18n="analytics.workout_frequency">„ÉØ„Éº„ÇØ„Ç¢„Ç¶„ÉàÈ†ªÂ∫¶</span>
                            </h3>
                            <div class="chart-container">
                                <canvas id="workout-frequency-chart"></canvas>
                            </div>
                        </div>

                        <!-- Muscle Group Distribution -->
                        <div class="muscle-card rounded-lg p-6">
                            <h3 class="text-xl font-semibold text-gray-800 mb-4">
                                <i class="fas fa-chart-pie text-green-500 mr-2"></i>
                                <span data-i18n="analytics.muscle_distribution">ÈÉ®‰ΩçÂà•ÂàÜÂ∏É</span>
                            </h3>
                            <div class="chart-container">
                                <canvas id="muscle-distribution-chart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Progress Chart -->
                    <div class="muscle-card rounded-lg p-6">
                        <h3 class="text-xl font-semibold text-gray-800 mb-4">
                            <i class="fas fa-chart-line text-purple-500 mr-2"></i>
                            <span data-i18n="analytics.progress_chart">ÈÄ≤Êçó„ÉÅ„É£„Éº„Éà</span>
                        </h3>
                        <div class="chart-container">
                            <canvas id="progress-chart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Exercises Page -->
                <div id="exercises-page" class="page-content hidden">
                    <div class="mb-6">
                        <h2 class="text-3xl font-bold text-gray-800 mb-2" data-i18n="exercises.title">„Ç®„ÇØ„Çµ„Çµ„Ç§„Ç∫</h2>
                        <p class="text-gray-600" data-i18n="exercises.subtitle">Ë±äÂØå„Å™„Ç®„ÇØ„Çµ„Çµ„Ç§„Ç∫„É©„Ç§„Éñ„É©„É™„Åã„ÇâÊúÄÈÅ©„Å™„Éà„É¨„Éº„Éã„É≥„Ç∞„ÇíÈÅ∏„Å≥„Åæ„Åó„Çá„ÅÜ</p>
                    </div>

                    <!-- Exercise Filters -->
                    <div class="muscle-card rounded-lg p-6 mb-6">
                        <div class="flex flex-wrap gap-4 mb-4">
                            <div class="flex items-center space-x-2">
                                <label class="text-sm font-medium text-gray-700" data-i18n="exercises.filter_muscle">ÈÉ®‰Ωç:</label>
                                <select id="muscle-filter" class="border border-gray-300 rounded-lg px-3 py-2">
                                    <option value="">„Åô„Åπ„Å¶</option>
                                    <option value="chest">ËÉ∏Á≠ã</option>
                                    <option value="back">ËÉåÁ≠ã</option>
                                    <option value="shoulder">ËÇ©</option>
                                    <option value="arm">ËÖï</option>
                                    <option value="leg">ËÑö</option>
                                    <option value="core">‰ΩìÂππ</option>
                                </select>
                            </div>
                            <div class="flex items-center space-x-2">
                                <label class="text-sm font-medium text-gray-700" data-i18n="exercises.filter_difficulty">Èõ£ÊòìÂ∫¶:</label>
                                <select id="difficulty-filter" class="border border-gray-300 rounded-lg px-3 py-2">
                                    <option value="">„Åô„Åπ„Å¶</option>
                                    <option value="beginner">ÂàùÁ¥ö</option>
                                    <option value="intermediate">‰∏≠Á¥ö</option>
                                    <option value="advanced">‰∏äÁ¥ö</option>
                                </select>
                            </div>
                            <div class="flex items-center space-x-2">
                                <label class="text-sm font-medium text-gray-700" data-i18n="exercises.filter_equipment">Âô®ÂÖ∑:</label>
                                <select id="equipment-filter" class="border border-gray-300 rounded-lg px-3 py-2">
                                    <option value="">„Åô„Åπ„Å¶</option>
                                    <option value="bodyweight">Ëá™Èáç</option>
                                    <option value="dumbbell">„ÉÄ„É≥„Éô„É´</option>
                                    <option value="barbell">„Éê„Éº„Éô„É´</option>
                                    <option value="machine">„Éû„Ç∑„É≥</option>
                                </select>
                            </div>
                        </div>
                        <div class="flex items-center space-x-2">
                            <i class="fas fa-search text-gray-400"></i>
                            <input type="text" id="exercise-search" placeholder="„Ç®„ÇØ„Çµ„Çµ„Ç§„Ç∫„ÇíÊ§úÁ¥¢..." class="flex-1 border border-gray-300 rounded-lg px-3 py-2">
                        </div>
                    </div>

                    <!-- Exercise List -->
                    <div id="exercise-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <!-- Exercises will be populated here -->
                    </div>
                </div>

                <!-- Settings Page -->
                <div id="settings-page" class="page-content hidden">
                    <div class="mb-6">
                        <h2 class="text-3xl font-bold text-gray-800 mb-2" data-i18n="settings.title">Ë®≠ÂÆö</h2>
                        <p class="text-gray-600" data-i18n="settings.subtitle">„Ç¢„Éó„É™„ÅÆË®≠ÂÆö„Çí„Ç´„Çπ„Çø„Éû„Ç§„Ç∫„Åó„Åæ„Åó„Çá„ÅÜ</p>
                    </div>

                    <!-- Profile Settings -->
                    <div class="muscle-card rounded-lg p-6 mb-6">
                        <h3 class="text-xl font-semibold text-gray-800 mb-4">
                            <i class="fas fa-user text-blue-500 mr-2"></i>
                            <span data-i18n="settings.profile">„Éó„É≠„Éï„Ç£„Éº„É´</span>
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2" data-i18n="settings.name">ÂêçÂâç</label>
                                <input type="text" id="user-name-input" class="w-full border border-gray-300 rounded-lg px-3 py-2" placeholder="„ÅÇ„Å™„Åü„ÅÆÂêçÂâç">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2" data-i18n="settings.email">„É°„Éº„É´„Ç¢„Éâ„É¨„Çπ</label>
                                <input type="email" id="user-email-input" class="w-full border border-gray-300 rounded-lg px-3 py-2" placeholder="email@example.com">
                            </div>
                        </div>
                    </div>

                    <!-- Workout Settings -->
                    <div class="muscle-card rounded-lg p-6 mb-6">
                        <h3 class="text-xl font-semibold text-gray-800 mb-4">
                            <i class="fas fa-dumbbell text-green-500 mr-2"></i>
                            <span data-i18n="settings.workout">„ÉØ„Éº„ÇØ„Ç¢„Ç¶„ÉàË®≠ÂÆö</span>
                        </h3>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2" data-i18n="settings.rest_periods">‰ºëÊÜ©ÊôÇÈñìË®≠ÂÆö</label>
                                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                    <div>
                                        <label class="block text-xs text-gray-500 mb-1" data-i18n="settings.chest_rest">ËÉ∏Á≠ã (ÊôÇÈñì)</label>
                                        <input type="number" id="chest-rest" class="w-full border border-gray-300 rounded-lg px-3 py-2" value="72" min="24" max="168">
                                    </div>
                                    <div>
                                        <label class="block text-xs text-gray-500 mb-1" data-i18n="settings.back_rest">ËÉåÁ≠ã (ÊôÇÈñì)</label>
                                        <input type="number" id="back-rest" class="w-full border border-gray-300 rounded-lg px-3 py-2" value="72" min="24" max="168">
                                    </div>
                                    <div>
                                        <label class="block text-xs text-gray-500 mb-1" data-i18n="settings.shoulder_rest">ËÇ© (ÊôÇÈñì)</label>
                                        <input type="number" id="shoulder-rest" class="w-full border border-gray-300 rounded-lg px-3 py-2" value="48" min="24" max="168">
                                    </div>
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2" data-i18n="settings.weekly_goal">ÈÄ±ÈñìÁõÆÊ®ô</label>
                                <input type="number" id="weekly-goal" class="w-full border border-gray-300 rounded-lg px-3 py-2" value="4" min="1" max="7">
                            </div>
                        </div>
                    </div>

                    <!-- Notification Settings -->
                    <div class="muscle-card rounded-lg p-6 mb-6">
                        <h3 class="text-xl font-semibold text-gray-800 mb-4">
                            <i class="fas fa-bell text-yellow-500 mr-2"></i>
                            <span data-i18n="settings.notifications">ÈÄöÁü•Ë®≠ÂÆö</span>
                        </h3>
                        <div class="space-y-4">
                            <div class="flex items-center justify-between">
                                <div>
                                    <label class="text-sm font-medium text-gray-700" data-i18n="settings.workout_reminders">„ÉØ„Éº„ÇØ„Ç¢„Ç¶„ÉàÈÄöÁü•</label>
                                    <p class="text-xs text-gray-500" data-i18n="settings.workout_reminders_desc">„Éà„É¨„Éº„Éã„É≥„Ç∞ÊôÇÈñì„Çí„ÅäÁü•„Çâ„Åõ„Åó„Åæ„Åô</p>
                                </div>
                                <input type="checkbox" id="workout-notifications" class="rounded border-gray-300">
                            </div>
                            <div class="flex items-center justify-between">
                                <div>
                                    <label class="text-sm font-medium text-gray-700" data-i18n="settings.recovery_alerts">ÂõûÂæ©„Ç¢„É©„Éº„Éà</label>
                                    <p class="text-xs text-gray-500" data-i18n="settings.recovery_alerts_desc">Á≠ãËÇâ„ÅÆÂõûÂæ©Áä∂Ê≥Å„Çí„ÅäÁü•„Çâ„Åõ„Åó„Åæ„Åô</p>
                                </div>
                                <input type="checkbox" id="recovery-notifications" class="rounded border-gray-300">
                            </div>
                        </div>
                    </div>

                    <!-- Data Management -->
                    <div class="muscle-card rounded-lg p-6">
                        <h3 class="text-xl font-semibold text-gray-800 mb-4">
                            <i class="fas fa-database text-purple-500 mr-2"></i>
                            <span data-i18n="settings.data">„Éá„Éº„ÇøÁÆ°ÁêÜ</span>
                        </h3>
                        <div class="space-y-4">
                            <div class="flex items-center justify-between">
                                <div>
                                    <label class="text-sm font-medium text-gray-700" data-i18n="settings.export_data">„Éá„Éº„Çø„Ç®„ÇØ„Çπ„Éù„Éº„Éà</label>
                                    <p class="text-xs text-gray-500" data-i18n="settings.export_data_desc">„Éà„É¨„Éº„Éã„É≥„Ç∞„Éá„Éº„Çø„ÇíJSON„Éï„Ç°„Ç§„É´„Åß‰øùÂ≠ò</p>
                                </div>
                                <button id="export-data-btn" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors">
                                    <i class="fas fa-download mr-2"></i>
                                    <span data-i18n="settings.export">„Ç®„ÇØ„Çπ„Éù„Éº„Éà</span>
                                </button>
                            </div>
                            <div class="flex items-center justify-between">
                                <div>
                                    <label class="text-sm font-medium text-gray-700" data-i18n="settings.import_data">„Éá„Éº„Çø„Ç§„É≥„Éù„Éº„Éà</label>
                                    <p class="text-xs text-gray-500" data-i18n="settings.import_data_desc">‰ª•Ââç„ÅÆ„Éá„Éº„Çø„ÇíË™≠„ÅøËæº„Åø</p>
                                </div>
                                <button id="import-data-btn" class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors">
                                    <i class="fas fa-upload mr-2"></i>
                                    <span data-i18n="settings.import">„Ç§„É≥„Éù„Éº„Éà</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Modals -->
    <!-- Auth Modal -->
    <div id="auth-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg p-6 w-full max-w-md mx-4">
            <div class="flex items-center justify-between mb-4">
                <h3 id="auth-modal-title" class="text-xl font-semibold text-gray-800">„É≠„Ç∞„Ç§„É≥</h3>
                <button id="auth-modal-close" class="text-gray-400 hover:text-gray-600">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="auth-form" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">„É°„Éº„É´„Ç¢„Éâ„É¨„Çπ</label>
                    <input type="email" id="auth-email" class="w-full border border-gray-300 rounded-lg px-3 py-2" required>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">„Éë„Çπ„ÉØ„Éº„Éâ</label>
                    <input type="password" id="auth-password" class="w-full border border-gray-300 rounded-lg px-3 py-2" required>
                </div>
                <button type="submit" class="w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition-colors">
                    <span id="auth-submit-text">„É≠„Ç∞„Ç§„É≥</span>
                </button>
            </form>
            <div class="mt-4 text-center">
                <button id="auth-switch" class="text-blue-500 hover:text-blue-700 text-sm">
                    <span id="auth-switch-text">„Ç¢„Ç´„Ç¶„É≥„Éà„Çí‰ΩúÊàê</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Exercise Modal -->
    <div id="exercise-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-90vh overflow-y-auto">
            <div class="flex items-center justify-between mb-4">
                <h3 id="exercise-modal-title" class="text-xl font-semibold text-gray-800">„Ç®„ÇØ„Çµ„Çµ„Ç§„Ç∫Ë©≥Á¥∞</h3>
                <button id="exercise-modal-close" class="text-gray-400 hover:text-gray-600">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div id="exercise-modal-content">
                <!-- Exercise details will be populated here -->
            </div>
        </div>
    </div>

    <!-- Notification Container -->
    <div id="notification-container"></div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <script>
        // Initialize app
        console.log('üèãÔ∏è MuscleRotationManager - Starting Application');
        
        // Global variables
        let currentUser = null;
        let currentWorkout = null;
        let workoutTimer = null;
        let workoutStartTime = null;
        let currentLanguage = 'ja';
        let currentFontSize = 'base';
        
        // Sample data
        const sampleWorkouts = [
            {
                id: 1,
                date: '2024-01-15',
                muscle: 'chest',
                exercises: [
                    { name: '„Éô„É≥„ÉÅ„Éó„É¨„Çπ', sets: 3, reps: 10, weight: 80 },
                    { name: '„Ç§„É≥„ÇØ„É©„Ç§„É≥„Éó„É¨„Çπ', sets: 3, reps: 8, weight: 60 }
                ],
                duration: 45
            },
            {
                id: 2,
                date: '2024-01-14',
                muscle: 'back',
                exercises: [
                    { name: '„Éá„ÉÉ„Éâ„É™„Éï„Éà', sets: 3, reps: 8, weight: 100 },
                    { name: '„É©„ÉÉ„Éà„Éó„É´„ÉÄ„Ç¶„É≥', sets: 3, reps: 12, weight: 50 }
                ],
                duration: 50
            }
        ];
        
        const exerciseDatabase = {
            chest: [
                {
                    name: '„Éô„É≥„ÉÅ„Éó„É¨„Çπ',
                    nameEn: 'Bench Press',
                    difficulty: 'intermediate',
                    equipment: 'barbell',
                    description: 'ËÉ∏Á≠ã„ÇíÂäπÊûúÁöÑ„Å´Èçõ„Åà„ÇãÂü∫Êú¨Á®ÆÁõÆ',
                    descriptionEn: 'Fundamental exercise for chest development',
                    instructions: ['„Éê„Éº„Éô„É´„ÇíËÉ∏„Å´‰∏ã„Çç„Åô', 'ÂäõÂº∑„ÅèÊäº„Åó‰∏ä„Åí„Çã', 'ËÇò„ÇíÈÅ©Â∫¶„Å´Êõ≤„Åí„Çã'],
                    instructionsEn: ['Lower the barbell to chest', 'Press up forcefully', 'Keep elbows slightly bent'],
                    targetMuscles: ['Â§ßËÉ∏Á≠ã', '‰∏âËßíÁ≠ãÂâçÈÉ®', '‰∏äËÖï‰∏âÈ†≠Á≠ã']
                },
                {
                    name: '„Éó„ÉÉ„Ç∑„É•„Ç¢„ÉÉ„Éó',
                    nameEn: 'Push-up',
                    difficulty: 'beginner',
                    equipment: 'bodyweight',
                    description: 'Ëá™Èáç„ÅßË°å„ÅÜËÉ∏Á≠ã„Éà„É¨„Éº„Éã„É≥„Ç∞',
                    descriptionEn: 'Bodyweight chest exercise',
                    instructions: ['„ÅÜ„Å§‰ºè„Åõ„ÅÆÁä∂ÊÖã„ÅßÊâã„ÇíËÇ©ÂπÖ„Å´Èñã„Åè', '‰Ωì„Çí‰∏ÄÁõ¥Á∑ö„Å´‰øù„Å§', 'ËÉ∏„ÇíÂ∫ä„Å´Ëøë„Å•„Åë„Å¶Êäº„Åó‰∏ä„Åí„Çã'],
                    instructionsEn: ['Start in plank position', 'Keep body straight', 'Lower chest to floor and push up'],
                    targetMuscles: ['Â§ßËÉ∏Á≠ã', '‰∏âËßíÁ≠ãÂâçÈÉ®', '‰∏äËÖï‰∏âÈ†≠Á≠ã']
                }
            ],
            back: [
                {
                    name: '„Éá„ÉÉ„Éâ„É™„Éï„Éà',
                    nameEn: 'Deadlift',
                    difficulty: 'advanced',
                    equipment: 'barbell',
                    description: 'ËÉåÁ≠ãÁæ§„ÇíÁ∑èÂêàÁöÑ„Å´Èçõ„Åà„ÇãË§áÂêàÁ®ÆÁõÆ',
                    descriptionEn: 'Compound exercise for overall back development',
                    instructions: ['Ë∂≥ÂπÖ„ÇíËÇ©ÂπÖ„Å´Èñã„Åè', 'ËÖ∞„ÇíÊõ≤„Åí„Å¶„Éê„Éº„ÇíÊè°„Çã', 'ËÉåÁ≠ã„Çí‰Ωø„Å£„Å¶Á´ã„Å°‰∏ä„Åå„Çã'],
                    instructionsEn: ['Stand with feet hip-width apart', 'Bend at hips to grip bar', 'Stand up using back muscles'],
                    targetMuscles: ['Â∫ÉËÉåÁ≠ã', 'ÂÉßÂ∏ΩÁ≠ã', 'ËÑäÊü±Ëµ∑Á´ãÁ≠ã']
                },
                {
                    name: '„É©„ÉÉ„Éà„Éó„É´„ÉÄ„Ç¶„É≥',
                    nameEn: 'Lat Pulldown',
                    difficulty: 'intermediate',
                    equipment: 'machine',
                    description: 'Â∫ÉËÉåÁ≠ã„ÇíÈõÜ‰∏≠ÁöÑ„Å´Èçõ„Åà„Çã',
                    descriptionEn: 'Targeted latissimus dorsi exercise',
                    instructions: ['Â∫ß‰Ωç„Åß„Éê„Éº„ÇíÊè°„Çã', 'ËÇ©Áî≤È™®„ÇíÂØÑ„Åõ„Å™„Åå„ÇâÂºï„Åè', '„ÇÜ„Å£„Åè„Çä„Å®Êàª„Åô'],
                    instructionsEn: ['Sit and grip the bar', 'Pull down squeezing shoulder blades', 'Return slowly'],
                    targetMuscles: ['Â∫ÉËÉåÁ≠ã', 'ÂÉßÂ∏ΩÁ≠ã', '‰∏äËÖï‰∫åÈ†≠Á≠ã']
                }
            ],
            shoulder: [
                {
                    name: '„Ç∑„Éß„É´„ÉÄ„Éº„Éó„É¨„Çπ',
                    nameEn: 'Shoulder Press',
                    difficulty: 'intermediate',
                    equipment: 'dumbbell',
                    description: 'ËÇ©„ÅÆÁ≠ãËÇâ„ÇíÂÖ®‰ΩìÁöÑ„Å´Èçõ„Åà„Çã',
                    descriptionEn: 'Complete shoulder muscle development',
                    instructions: ['„ÉÄ„É≥„Éô„É´„ÇíËÇ©„ÅÆÈ´ò„Åï„ÅßÊßã„Åà„Çã', 'È†≠‰∏ä„Å´Êäº„Åó‰∏ä„Åí„Çã', '„ÇÜ„Å£„Åè„Çä„Å®‰∏ã„Çç„Åô'],
                    instructionsEn: ['Hold dumbbells at shoulder height', 'Press overhead', 'Lower slowly'],
                    targetMuscles: ['‰∏âËßíÁ≠ã', 'ÂÉßÂ∏ΩÁ≠ã', '‰∏äËÖï‰∏âÈ†≠Á≠ã']
                }
            ],
            arm: [
                {
                    name: '„Éê„Ç§„Çª„ÉÉ„Éó„Ç´„Éº„É´',
                    nameEn: 'Bicep Curl',
                    difficulty: 'beginner',
                    equipment: 'dumbbell',
                    description: '‰∏äËÖï‰∫åÈ†≠Á≠ã„ÇíÈõÜ‰∏≠ÁöÑ„Å´Èçõ„Åà„Çã',
                    descriptionEn: 'Targeted bicep exercise',
                    instructions: ['„ÉÄ„É≥„Éô„É´„ÇíÊåÅ„Å£„Å¶ËÖï„Çí‰∏ã„Çç„Åô', 'ËÇò„ÇíÂõ∫ÂÆö„Åó„Å¶Êõ≤„Åí„Çã', '„ÇÜ„Å£„Åè„Çä„Å®Êàª„Åô'],
                    instructionsEn: ['Hold dumbbells with arms down', 'Keep elbows fixed and curl', 'Return slowly'],
                    targetMuscles: ['‰∏äËÖï‰∫åÈ†≠Á≠ã', 'ÂâçËÖïÁ≠ã']
                }
            ],
            leg: [
                {
                    name: '„Çπ„ÇØ„ÉØ„ÉÉ„Éà',
                    nameEn: 'Squat',
                    difficulty: 'intermediate',
                    equipment: 'bodyweight',
                    description: '‰∏ãÂçäË∫´„ÅÆÁ≠ãËÇâ„ÇíÁ∑èÂêàÁöÑ„Å´Èçõ„Åà„Çã',
                    descriptionEn: 'Comprehensive lower body exercise',
                    instructions: ['Ë∂≥„ÇíËÇ©ÂπÖ„Å´Èñã„Åè', 'ËÖ∞„Çí‰∏ã„Çç„Åô', 'ËÜù„ÇíÊõ≤„Åí„Å¶Á´ã„Å°‰∏ä„Åå„Çã'],
                    instructionsEn: ['Stand with feet shoulder-width apart', 'Lower hips', 'Bend knees and stand up'],
                    targetMuscles: ['Â§ßËÖøÂõõÈ†≠Á≠ã', 'ËáÄÁ≠ã', '„Éè„É†„Çπ„Éà„É™„É≥„Ç∞']
                }
            ],
            core: [
                {
                    name: '„Éó„É©„É≥„ÇØ',
                    nameEn: 'Plank',
                    difficulty: 'beginner',
                    equipment: 'bodyweight',
                    description: '‰ΩìÂππ„ÇíÂÆâÂÆö„Åï„Åõ„ÇãÂü∫Êú¨Á®ÆÁõÆ',
                    descriptionEn: 'Basic core stabilization exercise',
                    instructions: ['ËÇò„Å®„Å§„ÅæÂÖà„Åß‰Ωì„ÇíÊîØ„Åà„Çã', '‰Ωì„Çí‰∏ÄÁõ¥Á∑ö„Å´‰øù„Å§', '30Áßí„Äú1ÂàÜÈñì„Ç≠„Éº„Éó'],
                    instructionsEn: ['Support body on elbows and toes', 'Keep body straight', 'Hold for 30 seconds to 1 minute'],
                    targetMuscles: ['ËÖπÁõ¥Á≠ã', 'ËÖπÊ®™Á≠ã', 'ËÑäÊü±Ëµ∑Á´ãÁ≠ã']
                }
            ]
        };
        
        // Internationalization
        const i18n = {
            ja: {
                'app.title': 'MuscleRotationManager',
                'nav.dashboard': '„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ',
                'nav.workout': '„ÉØ„Éº„ÇØ„Ç¢„Ç¶„Éà',
                'nav.calendar': '„Ç´„É¨„É≥„ÉÄ„Éº',
                'nav.analytics': 'ÂàÜÊûê',
                'nav.exercises': '„Ç®„ÇØ„Çµ„Çµ„Ç§„Ç∫',
                'nav.settings': 'Ë®≠ÂÆö',
                'auth.guest': '„Ç≤„Çπ„Éà',
                'auth.login': '„É≠„Ç∞„Ç§„É≥',
                'auth.register': 'ÁôªÈå≤',
                'auth.logout': '„É≠„Ç∞„Ç¢„Ç¶„Éà',
                'dashboard.title': '„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ',
                'dashboard.subtitle': '‰ªäÊó•„ÅÆ„Éà„É¨„Éº„Éã„É≥„Ç∞Áä∂Ê≥Å„Å®ÈÉ®‰ΩçÂà•ÂõûÂæ©Â∫¶„Çí„ÉÅ„Çß„ÉÉ„ÇØ„Åó„Åæ„Åó„Çá„ÅÜ',
                'dashboard.recommendations': '‰ªäÊó•„ÅÆ„Åä„Åô„Åô„ÇÅ',
                'dashboard.rec1': 'ËÉ∏Á≠ã: ÂÆåÂÖ®ÂõûÂæ© - È´òÂº∑Â∫¶„Éà„É¨„Éº„Éã„É≥„Ç∞Êé®Â•®',
                'dashboard.rec2': 'ËÉåÁ≠ã: ËªΩÂ∫¶Áñ≤Âä¥ - ËªΩ„ÇÅ„ÅÆ„Éà„É¨„Éº„Éã„É≥„Ç∞Êé®Â•®',
                'dashboard.rec3': 'ËÇ©: ÂõûÂæ©‰∏≠ - ‰ºëÊÅØÊé®Â•®',
                'dashboard.last_trained': 'ÊúÄÁµÇ: 2Êó•Ââç',
                'dashboard.recovery': 'ÂõûÂæ©Â∫¶',
                'dashboard.next_recommended': 'Ê¨°ÂõûÊé®Â•®: ‰ªäÊó•',
                'dashboard.recent_workouts': 'ÊúÄËøë„ÅÆ„ÉØ„Éº„ÇØ„Ç¢„Ç¶„Éà',
                'muscle.chest': 'ËÉ∏Á≠ã',
                'muscle.back': 'ËÉåÁ≠ã',
                'muscle.shoulder': 'ËÇ©',
                'muscle.arm': 'ËÖï',
                'muscle.leg': 'ËÑö',
                'muscle.core': '‰ΩìÂππ',
                'workout.title': '„ÉØ„Éº„ÇØ„Ç¢„Ç¶„Éà',
                'workout.subtitle': '‰ªäÊó•„ÅÆ„Éà„É¨„Éº„Éã„É≥„Ç∞„ÇíË®òÈå≤„Åó„Åæ„Åó„Çá„ÅÜ',
                'workout.quick_start': '„ÇØ„Ç§„ÉÉ„ÇØ„Çπ„Çø„Éº„Éà',
                'workout.current': 'ÁèæÂú®„ÅÆ„ÉØ„Éº„ÇØ„Ç¢„Ç¶„Éà',
                'workout.duration': 'ÊôÇÈñì',
                'workout.add_exercise': '„Ç®„ÇØ„Çµ„Çµ„Ç§„Ç∫„ÇíËøΩÂä†',
                'workout.pause': '‰∏ÄÊôÇÂÅúÊ≠¢',
                'workout.finish': 'ÂÆå‰∫Ü',
                'workout.templates': '„ÉØ„Éº„ÇØ„Ç¢„Ç¶„Éà„ÉÜ„É≥„Éó„É¨„Éº„Éà',
                'calendar.title': '„Ç´„É¨„É≥„ÉÄ„Éº',
                'calendar.subtitle': '„Éà„É¨„Éº„Éã„É≥„Ç∞„Çπ„Ç±„Ç∏„É•„Éº„É´„ÇíÁ¢∫Ë™ç„ÉªÁÆ°ÁêÜ„Åó„Åæ„Åó„Çá„ÅÜ',
                'calendar.today': '‰ªäÊó•',
                'calendar.sun': 'Êó•',
                'calendar.mon': 'Êúà',
                'calendar.tue': 'ÁÅ´',
                'calendar.wed': 'Ê∞¥',
                'calendar.thu': 'Êú®',
                'calendar.fri': 'Èáë',
                'calendar.sat': 'Âúü',
                'calendar.legend': 'Âá°‰æã',
                'analytics.title': 'ÂàÜÊûê',
                'analytics.subtitle': '„Éà„É¨„Éº„Éã„É≥„Ç∞„ÅÆÈÄ≤Êçó„Å®Áµ±Ë®à„ÇíÁ¢∫Ë™ç„Åó„Åæ„Åó„Çá„ÅÜ',
                'analytics.total_workouts': 'Á∑è„ÉØ„Éº„ÇØ„Ç¢„Ç¶„ÉàÊï∞',
                'analytics.this_month': '‰ªäÊúà„ÅÆ„ÉØ„Éº„ÇØ„Ç¢„Ç¶„Éà',
                'analytics.avg_duration': 'Âπ≥ÂùáÊôÇÈñì',
                'analytics.streak': 'ÈÄ£Á∂öÊó•Êï∞',
                'analytics.workout_frequency': '„ÉØ„Éº„ÇØ„Ç¢„Ç¶„ÉàÈ†ªÂ∫¶',
                'analytics.muscle_distribution': 'ÈÉ®‰ΩçÂà•ÂàÜÂ∏É',
                'analytics.progress_chart': 'ÈÄ≤Êçó„ÉÅ„É£„Éº„Éà',
                'exercises.title': '„Ç®„ÇØ„Çµ„Çµ„Ç§„Ç∫',
                'exercises.subtitle': 'Ë±äÂØå„Å™„Ç®„ÇØ„Çµ„Çµ„Ç§„Ç∫„É©„Ç§„Éñ„É©„É™„Åã„ÇâÊúÄÈÅ©„Å™„Éà„É¨„Éº„Éã„É≥„Ç∞„ÇíÈÅ∏„Å≥„Åæ„Åó„Çá„ÅÜ',
                'exercises.filter_muscle': 'ÈÉ®‰Ωç',
                'exercises.filter_difficulty': 'Èõ£ÊòìÂ∫¶',
                'exercises.filter_equipment': 'Âô®ÂÖ∑',
                'settings.title': 'Ë®≠ÂÆö',
                'settings.subtitle': '„Ç¢„Éó„É™„ÅÆË®≠ÂÆö„Çí„Ç´„Çπ„Çø„Éû„Ç§„Ç∫„Åó„Åæ„Åó„Çá„ÅÜ',
                'settings.profile': '„Éó„É≠„Éï„Ç£„Éº„É´',
                'settings.name': 'ÂêçÂâç',
                'settings.email': '„É°„Éº„É´„Ç¢„Éâ„É¨„Çπ',
                'settings.workout': '„ÉØ„Éº„ÇØ„Ç¢„Ç¶„ÉàË®≠ÂÆö',
                'settings.rest_periods': '‰ºëÊÜ©ÊôÇÈñìË®≠ÂÆö',
                'settings.chest_rest': 'ËÉ∏Á≠ã (ÊôÇÈñì)',
                'settings.back_rest': 'ËÉåÁ≠ã (ÊôÇÈñì)',
                'settings.shoulder_rest': 'ËÇ© (ÊôÇÈñì)',
                'settings.weekly_goal': 'ÈÄ±ÈñìÁõÆÊ®ô',
                'settings.notifications': 'ÈÄöÁü•Ë®≠ÂÆö',
                'settings.workout_reminders': '„ÉØ„Éº„ÇØ„Ç¢„Ç¶„ÉàÈÄöÁü•',
                'settings.workout_reminders_desc': '„Éà„É¨„Éº„Éã„É≥„Ç∞ÊôÇÈñì„Çí„ÅäÁü•„Çâ„Åõ„Åó„Åæ„Åô',
                'settings.recovery_alerts': 'ÂõûÂæ©„Ç¢„É©„Éº„Éà',
                'settings.recovery_alerts_desc': 'Á≠ãËÇâ„ÅÆÂõûÂæ©Áä∂Ê≥Å„Çí„ÅäÁü•„Çâ„Åõ„Åó„Åæ„Åô',
                'settings.data': '„Éá„Éº„ÇøÁÆ°ÁêÜ',
                'settings.export_data': '„Éá„Éº„Çø„Ç®„ÇØ„Çπ„Éù„Éº„Éà',
                'settings.export_data_desc': '„Éà„É¨„Éº„Éã„É≥„Ç∞„Éá„Éº„Çø„ÇíJSON„Éï„Ç°„Ç§„É´„Åß‰øùÂ≠ò',
                'settings.export': '„Ç®„ÇØ„Çπ„Éù„Éº„Éà',
                'settings.import_data': '„Éá„Éº„Çø„Ç§„É≥„Éù„Éº„Éà',
                'settings.import_data_desc': '‰ª•Ââç„ÅÆ„Éá„Éº„Çø„ÇíË™≠„ÅøËæº„Åø',
                'settings.import': '„Ç§„É≥„Éù„Éº„Éà'
            },
            en: {
                'app.title': 'MuscleRotationManager',
                'nav.dashboard': 'Dashboard',
                'nav.workout': 'Workout',
                'nav.calendar': 'Calendar',
                'nav.analytics': 'Analytics',
                'nav.exercises': 'Exercises',
                'nav.settings': 'Settings',
                'auth.guest': 'Guest',
                'auth.login': 'Login',
                'auth.register': 'Register',
                'auth.logout': 'Logout',
                'dashboard.title': 'Dashboard',
                'dashboard.subtitle': 'Check today\'s training status and muscle recovery',
                'dashboard.recommendations': 'Today\'s Recommendations',
                'dashboard.rec1': 'Chest: Fully recovered - High intensity training recommended',
                'dashboard.rec2': 'Back: Mild fatigue - Light training recommended',
                'dashboard.rec3': 'Shoulder: Recovering - Rest recommended',
                'dashboard.last_trained': 'Last: 2 days ago',
                'dashboard.recovery': 'Recovery',
                'dashboard.next_recommended': 'Next recommended: Today',
                'dashboard.recent_workouts': 'Recent Workouts',
                'muscle.chest': 'Chest',
                'muscle.back': 'Back',
                'muscle.shoulder': 'Shoulder',
                'muscle.arm': 'Arm',
                'muscle.leg': 'Leg',
                'muscle.core': 'Core',
                'workout.title': 'Workout',
                'workout.subtitle': 'Record today\'s training',
                'workout.quick_start': 'Quick Start',
                'workout.current': 'Current Workout',
                'workout.duration': 'Duration',
                'workout.add_exercise': 'Add Exercise',
                'workout.pause': 'Pause',
                'workout.finish': 'Finish',
                'workout.templates': 'Workout Templates',
                'calendar.title': 'Calendar',
                'calendar.subtitle': 'View and manage your training schedule',
                'calendar.today': 'Today',
                'calendar.sun': 'Sun',
                'calendar.mon': 'Mon',
                'calendar.tue': 'Tue',
                'calendar.wed': 'Wed',
                'calendar.thu': 'Thu',
                'calendar.fri': 'Fri',
                'calendar.sat': 'Sat',
                'calendar.legend': 'Legend',
                'analytics.title': 'Analytics',
                'analytics.subtitle': 'Track your training progress and statistics',
                'analytics.total_workouts': 'Total Workouts',
                'analytics.this_month': 'This Month',
                'analytics.avg_duration': 'Average Duration',
                'analytics.streak': 'Streak',
                'analytics.workout_frequency': 'Workout Frequency',
                'analytics.muscle_distribution': 'Muscle Distribution',
                'analytics.progress_chart': 'Progress Chart',
                'exercises.title': 'Exercises',
                'exercises.subtitle': 'Choose optimal training from our comprehensive exercise library',
                'exercises.filter_muscle': 'Muscle',
                'exercises.filter_difficulty': 'Difficulty',
                'exercises.filter_equipment': 'Equipment',
                'settings.title': 'Settings',
                'settings.subtitle': 'Customize your app settings',
                'settings.profile': 'Profile',
                'settings.name': 'Name',
                'settings.email': 'Email',
                'settings.workout': 'Workout Settings',
                'settings.rest_periods': 'Rest Periods',
                'settings.chest_rest': 'Chest (hours)',
                'settings.back_rest': 'Back (hours)',
                'settings.shoulder_rest': 'Shoulder (hours)',
                'settings.weekly_goal': 'Weekly Goal',
                'settings.notifications': 'Notifications',
                'settings.workout_reminders': 'Workout Reminders',
                'settings.workout_reminders_desc': 'Get notified about training time',
                'settings.recovery_alerts': 'Recovery Alerts',
                'settings.recovery_alerts_desc': 'Get notified about muscle recovery status',
                'settings.data': 'Data Management',
                'settings.export_data': 'Export Data',
                'settings.export_data_desc': 'Save training data as JSON file',
                'settings.export': 'Export',
                'settings.import_data': 'Import Data',
                'settings.import_data_desc': 'Load previous data',
                'settings.import': 'Import'
            }
        };
        
        // Utility functions
        function $(selector) {
            return document.querySelector(selector);
        }
        
        function $$(selector) {
            return document.querySelectorAll(selector);
        }
        
        function showNotification(message, type = 'success') {
            console.log(`üì¢ Notification: ${message} (${type})`);
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            
            const container = $('#notification-container');
            container.appendChild(notification);
            
            // Show notification
            setTimeout(() => {
                notification.classList.add('show');
            }, 100);
            
            // Hide and remove notification
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    container.removeChild(notification);
                }, 300);
            }, 3000);
        }
        
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;
            return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        }
        
        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString(currentLanguage === 'ja' ? 'ja-JP' : 'en-US');
        }
        
        function getRecoveryStatus(muscle, lastWorkoutDate) {
            const now = new Date();
            const lastWorkout = new Date(lastWorkoutDate);
            const hoursSinceLastWorkout = (now - lastWorkout) / (1000 * 60 * 60);
            
            const recoveryTimes = {
                chest: 72,
                back: 72,
                shoulder: 48,
                arm: 48,
                leg: 72,
                core: 24
            };
            
            const recoveryTime = recoveryTimes[muscle] || 48;
            const recoveryPercentage = Math.min(100, (hoursSinceLastWorkout / recoveryTime) * 100);
            
            return {
                percentage: Math.round(recoveryPercentage),
                status: recoveryPercentage >= 90 ? 'excellent' : recoveryPercentage >= 60 ? 'good' : 'warning'
            };
        }
        
        function updateLanguage(lang) {
            console.log(`üåê Switching language to: ${lang}`);
            currentLanguage = lang;
            
            // Update language switches
            $$('.lang-switch').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.lang === lang) {
                    btn.classList.add('active');
                }
            });
            
            // Update all i18n elements
            $$('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                if (i18n[lang] && i18n[lang][key]) {
                    element.textContent = i18n[lang][key];
                }
            });
            
            // Update charts if they exist
            if (window.workoutFrequencyChart) {
                updateCharts();
            }
            
            // Update exercise list
            renderExercises();
        }
        
        function updateFontSize(size) {
            console.log(`üî§ Changing font size to: ${size}`);
            currentFontSize = size;
            
            // Remove existing font size classes
            document.body.classList.remove('font-size-xs', 'font-size-sm', 'font-size-base', 'font-size-lg', 'font-size-xl');
            
            // Add new font size class
            document.body.classList.add(`font-size-${size}`);
            
            // Update indicator
            const indicator = $('#font-size-indicator');
            const sizes = { xs: 'A', sm: 'A', base: 'A', lg: 'A', xl: 'A' };
            indicator.textContent = sizes[size];
            indicator.style.fontSize = size === 'xs' ? '0.75rem' : size === 'sm' ? '0.875rem' : size === 'base' ? '1rem' : size === 'lg' ? '1.125rem' : '1.25rem';
            
            // Save to localStorage
            localStorage.setItem('fontSize', size);
        }
        
        function showPage(pageName) {
            console.log(`üìÑ Showing page: ${pageName}`);
            
            // Hide all pages
            $$('.page-content').forEach(page => {
                page.classList.add('hidden');
            });
            
            // Show selected page
            const targetPage = $(`#${pageName}-page`);
            if (targetPage) {
                targetPage.classList.remove('hidden');
            }
            
            // Update navigation
            $$('.nav-item').forEach(item => {
                item.classList.remove('active', 'bg-gray-100');
                if (item.dataset.page === pageName) {
                    item.classList.add('active', 'bg-gray-100');
                }
            });
            
            // Close mobile sidebar
            const mobileSidebar = $('#mobile-sidebar');
            if (mobileSidebar) {
                mobileSidebar.classList.remove('open');
            }
            
            // Page-specific initialization
            switch (pageName) {
                case 'calendar':
                    renderCalendar();
                    break;
                case 'analytics':
                    renderAnalytics();
                    break;
                case 'exercises':
                    renderExercises();
                    break;
            }
        }
        
        function renderCalendar() {
            console.log('üìÖ Rendering calendar');
            const calendarGrid = $('#calendar-grid');
            const currentMonth = $('#current-month');
            
            if (!calendarGrid || !currentMonth) return;
            
            const now = new Date();
            const year = now.getFullYear();
            const month = now.getMonth();
            
            // Update month display
            currentMonth.textContent = currentLanguage === 'ja' ? 
                `${year}Âπ¥${month + 1}Êúà` : 
                `${now.toLocaleString('en-US', { month: 'long', year: 'numeric' })}`;
            
            // Clear existing calendar
            calendarGrid.innerHTML = '';
            
            // Get first day of month and number of days
            const firstDay = new Date(year, month, 1);
            const lastDay = new Date(year, month + 1, 0);
            const firstDayOfWeek = firstDay.getDay();
            const daysInMonth = lastDay.getDate();
            
            // Add empty cells for days before the first day of the month
            for (let i = 0; i < firstDayOfWeek; i++) {
                const emptyDay = document.createElement('div');
                emptyDay.className = 'calendar-day';
                calendarGrid.appendChild(emptyDay);
            }
            
            // Add days of the month
            for (let day = 1; day <= daysInMonth; day++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day';
                dayElement.innerHTML = `
                    <div class="text-sm font-medium mb-1">${day}</div>
                    <div class="flex flex-wrap gap-1" id="workouts-${day}">
                        <!-- Workout dots will be added here -->
                    </div>
                `;
                
                // Add sample workout data
                const dateString = `${year}-${(month + 1).toString().padStart(2, '0')}-${day.toString().padStart(2, '0')}`;
                const dayWorkouts = sampleWorkouts.filter(w => w.date === dateString);
                
                if (dayWorkouts.length > 0) {
                    dayElement.classList.add('has-workout');
                    const workoutContainer = dayElement.querySelector(`#workouts-${day}`);
                    dayWorkouts.forEach(workout => {
                        const dot = document.createElement('div');
                        dot.className = `workout-dot ${workout.muscle}-color`;
                        dot.title = workout.muscle;
                        workoutContainer.appendChild(dot);
                    });
                }
                
                calendarGrid.appendChild(dayElement);
            }
        }
        
        function renderAnalytics() {
            console.log('üìä Rendering analytics');
            
            // Initialize charts
            setTimeout(() => {
                initializeCharts();
            }, 100);
        }
        
        function initializeCharts() {
            console.log('üìà Initializing charts');
            
            // Workout Frequency Chart
            const workoutFrequencyCtx = $('#workout-frequency-chart');
            if (workoutFrequencyCtx && !window.workoutFrequencyChart) {
                window.workoutFrequencyChart = new Chart(workoutFrequencyCtx, {
                    type: 'bar',
                    data: {
                        labels: currentLanguage === 'ja' ? 
                            ['Êúà', 'ÁÅ´', 'Ê∞¥', 'Êú®', 'Èáë', 'Âúü', 'Êó•'] : 
                            ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                        datasets: [{
                            label: currentLanguage === 'ja' ? '„ÉØ„Éº„ÇØ„Ç¢„Ç¶„ÉàÂõûÊï∞' : 'Workout Count',
                            data: [3, 2, 4, 1, 3, 2, 1],
                            backgroundColor: '#667eea',
                            borderColor: '#667eea',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            }
            
            // Muscle Distribution Chart
            const muscleDistributionCtx = $('#muscle-distribution-chart');
            if (muscleDistributionCtx && !window.muscleDistributionChart) {
                window.muscleDistributionChart = new Chart(muscleDistributionCtx, {
                    type: 'doughnut',
                    data: {
                        labels: currentLanguage === 'ja' ? 
                            ['ËÉ∏Á≠ã', 'ËÉåÁ≠ã', 'ËÇ©', 'ËÖï', 'ËÑö', '‰ΩìÂππ'] : 
                            ['Chest', 'Back', 'Shoulder', 'Arm', 'Leg', 'Core'],
                        datasets: [{
                            data: [20, 25, 15, 12, 20, 8],
                            backgroundColor: [
                                '#ef4444',
                                '#10b981',
                                '#f59e0b',
                                '#8b5cf6',
                                '#3b82f6',
                                '#ec4899'
                            ],
                            borderWidth: 0
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom'
                            }
                        }
                    }
                });
            }
            
            // Progress Chart
            const progressCtx = $('#progress-chart');
            if (progressCtx && !window.progressChart) {
                window.progressChart = new Chart(progressCtx, {
                    type: 'line',
                    data: {
                        labels: ['1Êúà', '2Êúà', '3Êúà', '4Êúà', '5Êúà', '6Êúà'],
                        datasets: [{
                            label: currentLanguage === 'ja' ? 'Á∑è„ÉØ„Éº„ÇØ„Ç¢„Ç¶„ÉàÊôÇÈñì' : 'Total Workout Time',
                            data: [120, 180, 240, 200, 280, 320],
                            borderColor: '#667eea',
                            backgroundColor: 'rgba(102, 126, 234, 0.1)',
                            borderWidth: 2,
                            fill: true,
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                title: {
                                    display: true,
                                    text: currentLanguage === 'ja' ? 'ÊôÇÈñìÔºàÂàÜÔºâ' : 'Time (minutes)'
                                }
                            }
                        }
                    }
                });
            }
        }
        
        function updateCharts() {
            console.log('üîÑ Updating charts');
            
            // Update chart labels for current language
            if (window.workoutFrequencyChart) {
                window.workoutFrequencyChart.data.labels = currentLanguage === 'ja' ? 
                    ['Êúà', 'ÁÅ´', 'Ê∞¥', 'Êú®', 'Èáë', 'Âúü', 'Êó•'] : 
                    ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
                window.workoutFrequencyChart.data.datasets[0].label = currentLanguage === 'ja' ? '„ÉØ„Éº„ÇØ„Ç¢„Ç¶„ÉàÂõûÊï∞' : 'Workout Count';
                window.workoutFrequencyChart.update();
            }
            
            if (window.muscleDistributionChart) {
                window.muscleDistributionChart.data.labels = currentLanguage === 'ja' ? 
                    ['ËÉ∏Á≠ã', 'ËÉåÁ≠ã', 'ËÇ©', 'ËÖï', 'ËÑö', '‰ΩìÂππ'] : 
                    ['Chest', 'Back', 'Shoulder', 'Arm', 'Leg', 'Core'];
                window.muscleDistributionChart.update();
            }
            
            if (window.progressChart) {
                window.progressChart.data.datasets[0].label = currentLanguage === 'ja' ? 'Á∑è„ÉØ„Éº„ÇØ„Ç¢„Ç¶„ÉàÊôÇÈñì' : 'Total Workout Time';
                window.progressChart.options.scales.y.title.text = currentLanguage === 'ja' ? 'ÊôÇÈñìÔºàÂàÜÔºâ' : 'Time (minutes)';
                window.progressChart.update();
            }
        }
        
        function renderExercises() {
            console.log('üèãÔ∏è Rendering exercises');
            const exerciseList = $('#exercise-list');
            if (!exerciseList) return;
            
            exerciseList.innerHTML = '';
            
            // Get all exercises from database
            const allExercises = [];
            Object.keys(exerciseDatabase).forEach(muscle => {
                exerciseDatabase[muscle].forEach(exercise => {
                    allExercises.push({ ...exercise, muscle });
                });
            });
            
            // Filter exercises based on current filters
            const muscleFilter = $('#muscle-filter')?.value || '';
            const difficultyFilter = $('#difficulty-filter')?.value || '';
            const equipmentFilter = $('#equipment-filter')?.value || '';
            const searchFilter = $('#exercise-search')?.value?.toLowerCase() || '';
            
            const filteredExercises = allExercises.filter(exercise => {
                const matchesMuscle = !muscleFilter || exercise.muscle === muscleFilter;
                const matchesDifficulty = !difficultyFilter || exercise.difficulty === difficultyFilter;
                const matchesEquipment = !equipmentFilter || exercise.equipment === equipmentFilter;
                const matchesSearch = !searchFilter || 
                    exercise.name.toLowerCase().includes(searchFilter) ||
                    exercise.nameEn.toLowerCase().includes(searchFilter);
                
                return matchesMuscle && matchesDifficulty && matchesEquipment && matchesSearch;
            });
            
            // Render filtered exercises
            filteredExercises.forEach(exercise => {
                const exerciseCard = document.createElement('div');
                exerciseCard.className = 'exercise-card';
                
                const name = currentLanguage === 'ja' ? exercise.name : exercise.nameEn;
                const description = currentLanguage === 'ja' ? exercise.description : exercise.descriptionEn;
                const muscleName = currentLanguage === 'ja' ? 
                    i18n.ja[`muscle.${exercise.muscle}`] : 
                    i18n.en[`muscle.${exercise.muscle}`];
                
                exerciseCard.innerHTML = `
                    <div class="flex items-center justify-between mb-2">
                        <h3 class="text-lg font-semibold text-gray-800">${name}</h3>
                        <div class="flex items-center space-x-2">
                            <span class="difficulty-badge difficulty-${exercise.difficulty}">
                                ${exercise.difficulty === 'beginner' ? (currentLanguage === 'ja' ? 'ÂàùÁ¥ö' : 'Beginner') :
                                  exercise.difficulty === 'intermediate' ? (currentLanguage === 'ja' ? '‰∏≠Á¥ö' : 'Intermediate') :
                                  (currentLanguage === 'ja' ? '‰∏äÁ¥ö' : 'Advanced')}
                            </span>
                            <span class="text-sm text-gray-500">${muscleName}</span>
                        </div>
                    </div>
                    <p class="text-gray-600 mb-3">${description}</p>
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-2">
                            <i class="fas fa-dumbbell text-gray-400"></i>
                            <span class="text-sm text-gray-500">
                                ${exercise.equipment === 'bodyweight' ? (currentLanguage === 'ja' ? 'Ëá™Èáç' : 'Bodyweight') :
                                  exercise.equipment === 'dumbbell' ? (currentLanguage === 'ja' ? '„ÉÄ„É≥„Éô„É´' : 'Dumbbell') :
                                  exercise.equipment === 'barbell' ? (currentLanguage === 'ja' ? '„Éê„Éº„Éô„É´' : 'Barbell') :
                                  (currentLanguage === 'ja' ? '„Éû„Ç∑„É≥' : 'Machine')}
                            </span>
                        </div>
                        <button class="text-blue-500 hover:text-blue-700 text-sm font-medium" onclick="showExerciseDetails('${exercise.muscle}', '${exercise.name}')">
                            ${currentLanguage === 'ja' ? 'Ë©≥Á¥∞„ÇíË¶ã„Çã' : 'View Details'}
                        </button>
                    </div>
                `;
                
                exerciseList.appendChild(exerciseCard);
            });
        }
        
        function showExerciseDetails(muscle, exerciseName) {
            console.log(`üìã Showing exercise details: ${muscle} - ${exerciseName}`);
            
            const exercise = exerciseDatabase[muscle]?.find(ex => ex.name === exerciseName);
            if (!exercise) return;
            
            const modal = $('#exercise-modal');
            const modalTitle = $('#exercise-modal-title');
            const modalContent = $('#exercise-modal-content');
            
            if (!modal || !modalTitle || !modalContent) return;
            
            const name = currentLanguage === 'ja' ? exercise.name : exercise.nameEn;
            const description = currentLanguage === 'ja' ? exercise.description : exercise.descriptionEn;
            const instructions = currentLanguage === 'ja' ? exercise.instructions : exercise.instructionsEn;
            
            modalTitle.textContent = name;
            modalContent.innerHTML = `
                <div class="space-y-4">
                    <div>
                        <h4 class="font-semibold text-gray-800 mb-2">${currentLanguage === 'ja' ? 'Ë™¨Êòé' : 'Description'}</h4>
                        <p class="text-gray-600">${description}</p>
                    </div>
                    <div>
                        <h4 class="font-semibold text-gray-800 mb-2">${currentLanguage === 'ja' ? 'ÂÆüË°åÊñπÊ≥ï' : 'Instructions'}</h4>
                        <ol class="list-decimal list-inside space-y-1 text-gray-600">
                            ${instructions.map(instruction => `<li>${instruction}</li>`).join('')}
                        </ol>
                    </div>
                    <div>
                        <h4 class="font-semibold text-gray-800 mb-2">${currentLanguage === 'ja' ? 'ÂØæË±°Á≠ãËÇâ' : 'Target Muscles'}</h4>
                        <div class="flex flex-wrap gap-2">
                            ${exercise.targetMuscles.map(muscle => `
                                <span class="bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-sm">${muscle}</span>
                            `).join('')}
                        </div>
                    </div>
                    <div class="flex items-center justify-between pt-4">
                        <div class="flex items-center space-x-4">
                            <span class="difficulty-badge difficulty-${exercise.difficulty}">
                                ${exercise.difficulty === 'beginner' ? (currentLanguage === 'ja' ? 'ÂàùÁ¥ö' : 'Beginner') :
                                  exercise.difficulty === 'intermediate' ? (currentLanguage === 'ja' ? '‰∏≠Á¥ö' : 'Intermediate') :
                                  (currentLanguage === 'ja' ? '‰∏äÁ¥ö' : 'Advanced')}
                            </span>
                            <span class="text-sm text-gray-500">
                                ${exercise.equipment === 'bodyweight' ? (currentLanguage === 'ja' ? 'Ëá™Èáç' : 'Bodyweight') :
                                  exercise.equipment === 'dumbbell' ? (currentLanguage === 'ja' ? '„ÉÄ„É≥„Éô„É´' : 'Dumbbell') :
                                  exercise.equipment === 'barbell' ? (currentLanguage === 'ja' ? '„Éê„Éº„Éô„É´' : 'Barbell') :
                                  (currentLanguage === 'ja' ? '„Éû„Ç∑„É≥' : 'Machine')}
                            </span>
                        </div>
                        <button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors" onclick="addToWorkout('${muscle}', '${exercise.name}')">
                            ${currentLanguage === 'ja' ? '„ÉØ„Éº„ÇØ„Ç¢„Ç¶„Éà„Å´ËøΩÂä†' : 'Add to Workout'}
                        </button>
                    </div>
                </div>
            `;
            
            modal.classList.remove('hidden');
        }
        
        function addToWorkout(muscle, exerciseName) {
            console.log(`‚ûï Adding exercise to workout: ${muscle} - ${exerciseName}`);
            showNotification(currentLanguage === 'ja' ? '„Ç®„ÇØ„Çµ„Çµ„Ç§„Ç∫„ÇíËøΩÂä†„Åó„Åæ„Åó„Åü' : 'Exercise added to workout');
            $('#exercise-modal').classList.add('hidden');
        }
        
        function startWorkout(muscle) {
            console.log(`üèÉ Starting workout for: ${muscle}`);
            
            currentWorkout = {
                muscle: muscle,
                exercises: [],
                startTime: new Date(),
                duration: 0
            };
            
            // Show current workout section
            $('#current-workout').classList.remove('hidden');
            
            // Start timer
            workoutStartTime = Date.now();
            workoutTimer = setInterval(updateWorkoutTimer, 1000);
            
            // Switch to workout page
            showPage('workout');
            
            showNotification(currentLanguage === 'ja' ? 
                `${i18n.ja[`muscle.${muscle}`]}„ÅÆ„ÉØ„Éº„ÇØ„Ç¢„Ç¶„Éà„ÇíÈñãÂßã„Åó„Åæ„Åó„Åü` : 
                `Started ${i18n.en[`muscle.${muscle}`]} workout`);
        }
        
        function updateWorkoutTimer() {
            if (!workoutStartTime) return;
            
            const elapsed = Math.floor((Date.now() - workoutStartTime) / 1000);
            const timerElement = $('#workout-timer');
            if (timerElement) {
                timerElement.textContent = formatTime(elapsed);
            }
        }
        
        function finishWorkout() {
            if (!currentWorkout) return;
            
            console.log('‚úÖ Finishing workout');
            
            // Stop timer
            if (workoutTimer) {
                clearInterval(workoutTimer);
                workoutTimer = null;
            }
            
            // Calculate duration
            const duration = Math.floor((Date.now() - workoutStartTime) / 1000 / 60);
            currentWorkout.duration = duration;
            
            // Save workout
            saveWorkout(currentWorkout);
            
            // Hide current workout section
            $('#current-workout').classList.add('hidden');
            
            // Reset workout state
            currentWorkout = null;
            workoutStartTime = null;
            
            showNotification(currentLanguage === 'ja' ? 
                '„ÉØ„Éº„ÇØ„Ç¢„Ç¶„Éà„ÇíÂÆå‰∫Ü„Åó„Åæ„Åó„ÅüÔºÅ' : 
                'Workout completed!');
            
            // Switch to dashboard
            showPage('dashboard');
        }
        
        function saveWorkout(workout) {
            console.log('üíæ Saving workout:', workout);
            
            // Save to localStorage
            const workouts = JSON.parse(localStorage.getItem('workouts') || '[]');
            workouts.push({
                ...workout,
                id: Date.now(),
                date: new Date().toISOString().split('T')[0]
            });
            localStorage.setItem('workouts', JSON.stringify(workouts));
        }
        
        function exportData() {
            console.log('üì§ Exporting data');
            
            const data = {
                workouts: JSON.parse(localStorage.getItem('workouts') || '[]'),
                settings: {
                    language: currentLanguage,
                    fontSize: currentFontSize,
                    restPeriods: {
                        chest: $('#chest-rest')?.value || 72,
                        back: $('#back-rest')?.value || 72,
                        shoulder: $('#shoulder-rest')?.value || 48
                    },
                    weeklyGoal: $('#weekly-goal')?.value || 4
                },
                exportDate: new Date().toISOString()
            };
            
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `muscle-rotation-manager-${new Date().toISOString().split('T')[0]}.json`;
            a.click();
            URL.revokeObjectURL(url);
            
            showNotification(currentLanguage === 'ja' ? 
                '„Éá„Éº„Çø„Çí„Ç®„ÇØ„Çπ„Éù„Éº„Éà„Åó„Åæ„Åó„Åü' : 
                'Data exported successfully');
        }
        
        function importData() {
            console.log('üì• Importing data');
            
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            input.onchange = (event) => {
                const file = event.target.files[0];
                if (!file) return;
                
                const reader = new FileReader();
                reader.onload = (e) => {
                    try {
                        const data = JSON.parse(e.target.result);
                        
                        // Import workouts
                        if (data.workouts) {
                            localStorage.setItem('workouts', JSON.stringify(data.workouts));
                        }
                        
                        // Import settings
                        if (data.settings) {
                            if (data.settings.language) {
                                updateLanguage(data.settings.language);
                            }
                            if (data.settings.fontSize) {
                                updateFontSize(data.settings.fontSize);
                            }
                            if (data.settings.restPeriods) {
                                const { chest, back, shoulder } = data.settings.restPeriods;
                                if ($('#chest-rest')) $('#chest-rest').value = chest;
                                if ($('#back-rest')) $('#back-rest').value = back;
                                if ($('#shoulder-rest')) $('#shoulder-rest').value = shoulder;
                            }
                            if (data.settings.weeklyGoal && $('#weekly-goal')) {
                                $('#weekly-goal').value = data.settings.weeklyGoal;
                            }
                        }
                        
                        showNotification(currentLanguage === 'ja' ? 
                            '„Éá„Éº„Çø„Çí„Ç§„É≥„Éù„Éº„Éà„Åó„Åæ„Åó„Åü' : 
                            'Data imported successfully');
                        
                    } catch (error) {
                        console.error('Error importing data:', error);
                        showNotification(currentLanguage === 'ja' ? 
                            '„Éá„Éº„Çø„ÅÆ„Ç§„É≥„Éù„Éº„Éà„Å´Â§±Êïó„Åó„Åæ„Åó„Åü' : 
                            'Failed to import data', 'error');
                    }
                };
                reader.readAsText(file);
            };
            input.click();
        }
        
        // Event listeners
        function initializeEventListeners() {
            console.log('üîß Initializing event listeners');
            
            // Navigation
            $$('.nav-item').forEach(item => {
                item.addEventListener('click', () => {
                    const page = item.dataset.page;
                    if (page) {
                        showPage(page);
                    }
                });
            });
            
            // Mobile menu
            $('#mobile-menu-btn')?.addEventListener('click', () => {
                $('#mobile-sidebar')?.classList.add('open');
            });
            
            $('#mobile-sidebar-close')?.addEventListener('click', () => {
                $('#mobile-sidebar')?.classList.remove('open');
            });
            
            // User menu
            $('#user-menu-btn')?.addEventListener('click', () => {
                $('#user-menu')?.classList.toggle('hidden');
            });
            
            // Language switch
            $$('.lang-switch').forEach(btn => {
                btn.addEventListener('click', () => {
                    const lang = btn.dataset.lang;
                    if (lang) {
                        updateLanguage(lang);
                    }
                });
            });
            
            // Font size controls
            $('#font-size-up')?.addEventListener('click', () => {
                const sizes = ['xs', 'sm', 'base', 'lg', 'xl'];
                const currentIndex = sizes.indexOf(currentFontSize);
                if (currentIndex < sizes.length - 1) {
                    updateFontSize(sizes[currentIndex + 1]);
                }
            });
            
            $('#font-size-down')?.addEventListener('click', () => {
                const sizes = ['xs', 'sm', 'base', 'lg', 'xl'];
                const currentIndex = sizes.indexOf(currentFontSize);
                if (currentIndex > 0) {
                    updateFontSize(sizes[currentIndex - 1]);
                }
            });
            
            // Quick start buttons
            $$('.quick-start-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const muscle = btn.dataset.muscle;
                    if (muscle) {
                        startWorkout(muscle);
                    }
                });
            });
            
            // Workout controls
            $('#finish-workout-btn')?.addEventListener('click', finishWorkout);
            $('#pause-workout-btn')?.addEventListener('click', () => {
                if (workoutTimer) {
                    clearInterval(workoutTimer);
                    workoutTimer = null;
                    showNotification(currentLanguage === 'ja' ? 
                        '„ÉØ„Éº„ÇØ„Ç¢„Ç¶„Éà„Çí‰∏ÄÊôÇÂÅúÊ≠¢„Åó„Åæ„Åó„Åü' : 
                        'Workout paused');
                } else {
                    workoutTimer = setInterval(updateWorkoutTimer, 1000);
                    showNotification(currentLanguage === 'ja' ? 
                        '„ÉØ„Éº„ÇØ„Ç¢„Ç¶„Éà„ÇíÂÜçÈñã„Åó„Åæ„Åó„Åü' : 
                        'Workout resumed');
                }
            });
            
            // Exercise filters
            $('#muscle-filter')?.addEventListener('change', renderExercises);
            $('#difficulty-filter')?.addEventListener('change', renderExercises);
            $('#equipment-filter')?.addEventListener('change', renderExercises);
            $('#exercise-search')?.addEventListener('input', renderExercises);
            
            // Modal close buttons
            $('#auth-modal-close')?.addEventListener('click', () => {
                $('#auth-modal')?.classList.add('hidden');
            });
            
            $('#exercise-modal-close')?.addEventListener('click', () => {
                $('#exercise-modal')?.classList.add('hidden');
            });
            
            // Auth buttons
            $('#login-btn')?.addEventListener('click', () => {
                // Show login modal
                $('#auth-modal')?.classList.remove('hidden');
            });
            
            // Data management
            $('#export-data-btn')?.addEventListener('click', exportData);
            $('#import-data-btn')?.addEventListener('click', importData);
            
            // Calendar navigation
            $('#prev-month')?.addEventListener('click', () => {
                // Previous month logic
                renderCalendar();
            });
            
            $('#next-month')?.addEventListener('click', () => {
                // Next month logic
                renderCalendar();
            });
            
            $('#today-btn')?.addEventListener('click', () => {
                // Go to today
                renderCalendar();
            });
            
            // Affiliate link
            $('#affiliate-link-1')?.addEventListener('click', (e) => {
                e.preventDefault();
                console.log('üõí Affiliate link clicked');
                // Replace with actual affiliate URL
                window.open('https://example.com/affiliate-link', '_blank');
            });
            
            // Close dropdowns when clicking outside
            document.addEventListener('click', (e) => {
                if (!e.target.closest('#user-menu-btn')) {
                    $('#user-menu')?.classList.add('hidden');
                }
            });
        }
        
        // Initialize PWA
        function initializePWA() {
            console.log('üì± Initializing PWA');
            
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        console.log('‚úÖ Service Worker registered:', registration);
                    })
                    .catch(error => {
                        console.log('‚ùå Service Worker registration failed:', error);
                    });
            }
            
            // Web App Manifest
            const manifest = {
                name: 'MuscleRotationManager',
                short_name: 'MRM',
                description: 'Á≠ã„Éà„É¨ÈÉ®‰Ωç„É≠„Éº„ÉÜ„Éº„Ç∑„Éß„É≥ÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†',
                start_url: '/',
                display: 'standalone',
                theme_color: '#1f2937',
                background_color: '#f9fafb',
                icons: [
                    {
                        src: '/icon-192.png',
                        sizes: '192x192',
                        type: 'image/png'
                    },
                    {
                        src
    <script id="html_badge_script1">
        window.__genspark_remove_badge_link = "https://www.genspark.ai/api/html_badge/" +
            "remove_badge?token=To%2FBnjzloZ3UfQdcSaYfDm6bbQAf%2F5NqH1hLneeuVdMVsRAtJL2enq%2FannlNQaVw7u8ZCbHwMSvdUAQoNK1SDPMPEJY5wUmoqcuxfKzRr1gbOzoV6cM3ayu%2FXDunvzNJ6AK4ar0mg1HD9T45vW%2BPZxDqbffktlXe6iWX%2BxP1lg9rYKVjQaPOIH02%2FrXsN45re9j0FHhykz1XjhcxmKpP61V6xJw5wR5ihJSfB8j%2Fbu1KsDoilyZMywxbRSaqPXnuEdAnsQo7OnKzQIRrzyGRH2D0LlsM5ARxuMI5gLIOSOGkGQFbv6jK8uUDqtwCf1XiwMnYF4JC%2B0D%2BsOdGwqKnrHoz96TijAfMvNNDSkzG3wgCxmZZzU3h60pG%2Fj1EK3TB%2B1%2FZY7cKzBd6mI9ki%2FDUqYYCrZa7WB40AXUDe5WUop3LGYEcpf4iEBUCbrKHFam22ZLMINi7oG9%2FPL8WITAokRVLzLHb2bxtdOx6r%2Fx3COuKAtZts1sU6aKF2IiPPmpKnaWcr3nMdDXFBOlVTT5eNNh3zzh86zTe8VSoolRB9Yk%3D";
        window.__genspark_locale = "ja-JP";
        window.__genspark_token = "To/BnjzloZ3UfQdcSaYfDm6bbQAf/5NqH1hLneeuVdMVsRAtJL2enq/annlNQaVw7u8ZCbHwMSvdUAQoNK1SDPMPEJY5wUmoqcuxfKzRr1gbOzoV6cM3ayu/XDunvzNJ6AK4ar0mg1HD9T45vW+PZxDqbffktlXe6iWX+xP1lg9rYKVjQaPOIH02/rXsN45re9j0FHhykz1XjhcxmKpP61V6xJw5wR5ihJSfB8j/bu1KsDoilyZMywxbRSaqPXnuEdAnsQo7OnKzQIRrzyGRH2D0LlsM5ARxuMI5gLIOSOGkGQFbv6jK8uUDqtwCf1XiwMnYF4JC+0D+sOdGwqKnrHoz96TijAfMvNNDSkzG3wgCxmZZzU3h60pG/j1EK3TB+1/ZY7cKzBd6mI9ki/DUqYYCrZa7WB40AXUDe5WUop3LGYEcpf4iEBUCbrKHFam22ZLMINi7oG9/PL8WITAokRVLzLHb2bxtdOx6r/x3COuKAtZts1sU6aKF2IiPPmpKnaWcr3nMdDXFBOlVTT5eNNh3zzh86zTe8VSoolRB9Yk=";
    </script>
    
    <script id="html_notice_dialog_script" src="https://www.genspark.ai/notice_dialog.js"></script>
    